<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LenMus eMusicBooks' file format</title>
<link rel="stylesheet" href="singledoc.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en">
<div class="titlepage">
<div>
<div><h1 class="title">
<a name="book"></a>LenMus eMusicBooks' file format</h1></div>
<div><div class="author"><h3 class="author"><span class="surname">LenMus project</span></h3></div></div>
<div><p class="copyright">Copyright &copy; 2002-2006 Cecilio Salmeron</p></div>
<div><div class="legalnotice">
<a name="legal_notice"></a><p class="legalnotice-title"><b>Legal Notice</b></p>
<p>Permission is granted to copy, distribute, and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or any later
version published by the Free Software Foundation; with no Invariant Sections, 
no Front-Cover Texts, and no Back-Cover Texts. A copy of the license
is available at 
<a href="http://www.gnu.org/licenses/fdl.html" target="_top">http://www.gnu.org/licenses/fdl.html</a>.
</p>
<p>This document may be copied and distributed in any medium, either
commercially or noncommercially, provided that the GNU Free Documentation
License (FDL), the copyright notices, and the license notice saying
the GNU FDL applies to the document are reproduced in all copies, 
and that you add no other conditions whatsoever to those of the GNU FDL. 
</p>
</div></div>
</div>
<hr>
</div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="preface"><a href="#preface">Preface</a></span></dt>
<dt><span class="chapter"><a href="#chIntro">1. LenMus eMusicBooks' file format</a></span></dt>
<dd><dl>
<dt><span class="sect1"><a href="#id2084052">1.1. Tags to use: the eMusicBook DTD</a></span></dt>
<dt><span class="sect1"><a href="#id2084124">1.2. Starting a document</a></span></dt>
<dt><span class="sect1"><a href="#id2084413">1.3. Table of Content (TOC)</a></span></dt>
<dt><span class="sect1"><a href="#id2084271">1.4. Indexes</a></span></dt>
<dt><span class="sect1"><a href="#id2083509">1.5. Lists</a></span></dt>
<dt><span class="sect1"><a href="#id2247832">1.6. Links</a></span></dt>
<dt><span class="sect1"><a href="#id2070220">1.7. Tags for content</a></span></dt>
<dt><span class="sect1"><a href="#id2078718">1.8. Including scores</a></span></dt>
<dt><span class="sect1"><a href="#id2231127">1.9. Including exercises</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="#id2069826">1.9.1. Exercises on key signatures</a></span></dt>
<dt><span class="sect2"><a href="#id2070529">1.9.2. Exercises on intervals (theory)</a></span></dt>
<dt><span class="sect2"><a href="#id2078812">1.9.3. Exercises on chords (theory and aural training)</a></span></dt>
<dt><span class="sect2"><a href="#id2249379">1.9.4. Exercises on scales (theory and aural training)</a></span></dt>
<dt><span class="sect2"><a href="#id2084723">1.9.5. Exercises on music reading</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="#id2079808">1.10. Splitting a book into several files</a></span></dt>
<dt><span class="sect1"><a href="#id1069967">1.11. Translation</a></span></dt>
</dl></dd>
</dl>
</div>
<div class="list-of-tables">
<p><b>List of Tables</b></p>
<dl>
<dt>1.1. <a href="#id2078644">Supported DocBook tags</a>
</dt>
<dt>1.2. <a href="#id2210064">Params for TheoIntervalsCtrolParms</a>
</dt>
<dt>1.3. <a href="#id2078954">Params for IdfyChordCtrolParams</a>
</dt>
<dt>1.4. <a href="#id2078497">Supported params for exercises. Cross-reference table.</a>
</dt>
</dl>
</div>
<div class="preface" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="preface"></a>Preface</h2></div></div></div>
<p>
To be written.
</p>
</div>
<div class="chapter" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="chIntro"></a>Chapter&nbsp;1.&nbsp;LenMus eMusicBooks' file format</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="#id2084052">1.1. Tags to use: the eMusicBook DTD</a></span></dt>
<dt><span class="sect1"><a href="#id2084124">1.2. Starting a document</a></span></dt>
<dt><span class="sect1"><a href="#id2084413">1.3. Table of Content (TOC)</a></span></dt>
<dt><span class="sect1"><a href="#id2084271">1.4. Indexes</a></span></dt>
<dt><span class="sect1"><a href="#id2083509">1.5. Lists</a></span></dt>
<dt><span class="sect1"><a href="#id2247832">1.6. Links</a></span></dt>
<dt><span class="sect1"><a href="#id2070220">1.7. Tags for content</a></span></dt>
<dt><span class="sect1"><a href="#id2078718">1.8. Including scores</a></span></dt>
<dt><span class="sect1"><a href="#id2231127">1.9. Including exercises</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="#id2069826">1.9.1. Exercises on key signatures</a></span></dt>
<dt><span class="sect2"><a href="#id2070529">1.9.2. Exercises on intervals (theory)</a></span></dt>
<dt><span class="sect2"><a href="#id2078812">1.9.3. Exercises on chords (theory and aural training)</a></span></dt>
<dt><span class="sect2"><a href="#id2249379">1.9.4. Exercises on scales (theory and aural training)</a></span></dt>
<dt><span class="sect2"><a href="#id2084723">1.9.5. Exercises on music reading</a></span></dt>
</dl></dd>
<dt><span class="sect1"><a href="#id2079808">1.10. Splitting a book into several files</a></span></dt>
<dt><span class="sect1"><a href="#id1069967">1.11. Translation</a></span></dt>
</dl>
</div>
<p>LenMus is a reader for books about music. These book are not part of the program
and anyone can write them. This document is intended to describe the format of the
eMusicBooks' files.</p>
<p>eMusicBooks are written in XML format. Therefore, eMusicBooks files are also readable by
humans, and can be created and edited with any
text editor. The format consists of tags, such as &lt;book&gt;, each with corresponding
ending tags such as &lt;/book&gt;, and textual content, such as "This is a line of text".
Here you have a simple example:</p>
<pre class="programlisting">
{book id="first_book}
  {title}My first eMusicBook{/title}

  {theme id="p1}
    {title}Page 1{/title}
    {para}Hello world!{/para}
    {para}This is my first music eMusicBook!{/para}
  {/theme}

  {theme id="p2}
    {title}Page 2{/title}
    {para}Have a good day!{/para}
  {/theme}

{/book}
</pre>
<p>The complete content of the document (a "book") has been structured into
two "themes", each with a "title" and consisting of one or more "para(graphs)".</p>
<p>eMusicBooks are structured as conventional printed books, in chapter, sections,
sub-sections, etc.. But the final structuring chunk is the <span><strong class="command">theme</strong></span>,
that is, the information that is going to be displayed in a page. This is the main
difference with books in paper: paper has finite physical dimensions so text flows
from one page to the next one. But the 'page' in a computer display can have an
infinite dimension, so you must decide how you would like to chunck the document to
present it to the reader. Each chunk is named a <span><strong class="command">theme</strong></span>.</p>
<p>Therefore, a <span><strong class="command">book</strong></span> is a collection of <span><strong class="command">themes</strong></span>, organized
in <span><strong class="command">chapters</strong></span> and <span><strong class="command">sections</strong></span>, and sections can also have sub-sections.
For example:</p>
<pre class="programlisting">
{book id="first_book}
  {title}My first eMusicBook{/title}

  {chapter id="ch1}
  {title}The first chapter{/title}

    {section id="s1}
    {title}Section one{/title}
      {theme id="p1}
        {title}Page 1{/title}
        {para}Hello world!{/para}
        {para}This is my first music eMusicBook!{/para}
      {/theme}
    {/section}

    {section id="s2}
    {title}Section two{/title}
      {theme id="p2}
        {title}Page 2{/title}
        {para}Have a good day!{/para}
      {/theme}
    {/section}

{/book}
</pre>
<p>Themes can has also internal structure, but sections inside a theme
will be named <span><strong class="command">parts</strong></span>.</p>
<p>Indenting and all whitespace is ignored except in some verbatim elements.</p>
<p>Notice how the tags indicate the structure and meaning of the content, but not
its appearance. There is nothing to say "put this paragraph in bold-face type" or
"center this on the page". This is by design. The same eMusicBook
file can be processed into many different output formats, each with a completely
different appearance and even a different arrangement of content elements. So authors
must put the emphasis on content not on appearance.</p>
<p>Sections and parts can be nested to create sub-sections and sub-parts. For example:</p>
<pre class="programlisting">
    {section}
        {section}
            {section}...{/section}
            {section}
                {section}
                    {section}...{/section}
                    {section}...{/section}
                {/section}
                {section}...{/section}
            {/section}
        {/section}
        {section}...{/section}
    {/section}
    {section}...{/section}
    {section}...{/section}
</pre>
<p>No theoretical limit on depth of nesting.</p>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2084052"></a>1.1.&nbsp;Tags to use: the eMusicBook DTD</h2></div></div></div>
<p>To write an eMusicBook you need to know the set of tags that can be used.
The formal way of defining this is by using a <span><strong class="command">Document Type Definition</strong></span> or
DTD. The DTD is an special file defining the legal XML tags and attributes
that an author can
use, and how they relate to each other. For example, a <span><strong class="command">book</strong></span> element can
contain a <span><strong class="command">title</strong></span> element, any number of <span><strong class="command">para</strong></span> elements for paragraphs,
and any number of <span><strong class="command">chapter</strong></span> elements. It also serves to automatically checking
your document against the valid element names and rules, so to verify
that your XML document is correct. Using the DTD and XML syntax, authors
mark up their text content with tag names enclosed in angle brackets
like {chapter}. The markup is similar to HTML, but with more tags and
tighter rules.</p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2084124"></a>1.2.&nbsp;Starting a document</h2></div></div></div>
<p>All eMusicBook documents always start with the xml declaration file type,
followed by a reference to the eMusicBook DTD. And then the eMusicBook content
enclosed by a {book} tag:</p>
<pre class="programlisting">
{?xml version="1.0"?}
{!DOCTYPE book PUBLIC "-//LenMus//DTD eMusicBook 1.0//EN"
    "http://www.lenmus.org/dtd/eMusicBook.dtd}

{book}
{bookinfo}
    {title}Music Reading exercises{/title}
    {level}2{/level}
    {subject}Musical language. Theory{/subject}
{/bookinfo}

   ... here the book content

{/book}
</pre>
<p>The {bookinfo} tag contains all meta-information about the book:
Its title, its level and its cathegorithation ({subject} tag).</p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2084413"></a>1.3.&nbsp;Table of Content (TOC)</h2></div></div></div>
<p>When processing an eMusicBook, LenMus automatically compiles a table of
content for the book.
The TOC is formed by all chapters, sections and themes having the attribute
'intoc="yes"'. And the TOC is
structured following the structure of the included chapters, sections and themes.
Notice that parts inside a theme are not included in the TOC.</p>
<p>When displaying the TOC of an eMusicBook in the navigation panel of the LenMus
program it is possible to include images instead of (or beside of) titles.
These images must be specified by using tag {tocimage} when defining chapters, sections
and themes. For example:</p>
<pre class="programlisting">
{theme id="ch205"}
{title}8th note tied to group of one 8th and two 16th notes{/title}
{tocimage}img205.png{/tocimage}

{para}In this lesson .....
</pre>
<p>The image must not contain path information as all images for an eMusicBook
must be stored in a sub-folder, named 'img', in the same folder than the book
XML files.</p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2084271"></a>1.4.&nbsp;Indexes</h2></div></div></div>
<p>When processing an eMusicBook, LenMus automatically compiles an index. To establish
that a term is placed in the index, we have to to mark it as being indexed.
Doing so is simple, we just use the {indexterm} tag and give the
term a name. Example:
</p>
<pre class="programlisting">
This note is also known in British English as 'crochet'
{indexterm}crochet{indexterm}, and its usage...
</pre>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2083509"></a>1.5.&nbsp;Lists</h2></div></div></div>
<pre class="programlisting">
{itemizedlist} {listitem}
</pre>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2247832"></a>1.6.&nbsp;Links</h2></div></div></div>
<p>Its is possible to include two types of links: external, to other eMusicBooks, or
internal, to other themes of the book. The tags to use are different:


External links:

           {ulink url="http://www.docbook.org/}Docbook page{/ulink}

Internal links based on id attributes added to other elements

      {link linkend="idname"}Internal link{/link}


Example:
</p>
<pre class="programlisting">
{section id="introduction}
...
{/section}

{section id="another}
{para}
    For more info see the {link linkend="introduction}intro
    section{/link}.
{/para}
</pre>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2070220"></a>1.7.&nbsp;Tags for content</h2></div></div></div>
<p>Tags for content are taken from DocBook. Tags currently supported
are restricted to the following:</p>
<div class="table">
<a name="id2078644"></a><p class="title"><b>Table&nbsp;1.1.&nbsp;Supported DocBook tags</b></p>
<div class="table-contents"><table summary="Supported DocBook tags" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Description</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr>
<td valign="top">Paragraphs</td>
<td><pre class="programlisting">
{para}
This is a very short paragraph
{/para}
</pre></td>
</tr>
<tr>
<td>Traditional publishing inlines</td>
<td>&nbsp;</td>
</tr>
<tr>
<td valign="top">Emphasis</td>
<td><pre class="programlisting">
{para}
This paragraph has {emphasis}these words{/emphasis} highlighted
{/para}
</pre></td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2078718"></a>1.8.&nbsp;Including scores</h2></div></div></div>
<p>Scores can be included by using the {score} tag.</p>
<pre class="programlisting">

    type                short | pattern | full | XMLFile | LDPFile        default: full
    music               LDP score | file spec.
    music_border        0 | 1               default: 0 (no border around score)

    control_play        Include 'play' link. Default: do not include it.
                        Value="play label|stop playing label". i.e.: "Play|Stop" Stop label
                        is optional. Default labels: "Play|Stop"

    control_solfa       Include 'solfa' link. Default: do not include it.
                        Value="music read label|stop music reading label". i.e.:
                        "Play|Stop". Stop label is optional.
                        Default labels: "Read|Stop"

    control_measures    Include 'play measure #' links, one per measure.
                        Default: do not include them.
                        Value="play label|stop label". i.e.:
                        "Play|Stop". Stop label is optional.
                        Default labels: "Measure %d|Stop %d"
</pre>
<pre class="programlisting">
{score classid="Score" width="600" height="100" border="0}
    {type}short{/type}
    {music_border}0{/music_border}
    {control_play}1{/control_play}
    {music}
        (Metrica 2 4)(n a4 c g+)(n a4 c l g-)(n a4 c g+)(n a4 s)(n a4 s g-)(Barra Doble))
        (c (n a4 c)(n a4 n)(n a4 s g+)(n a4 s g-)(Barra Final))
    {/music}
{/score}
</pre>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2231127"></a>1.9.&nbsp;Including exercises</h2></div></div></div>
<p>Interactive exercises can be included by using the {exercise} tag. All exercises
available in LenMus program can be embedded in an eMusicBook. Attribute 'type' specifies
the type of exercise:</p>
<div class="itemizedlist"><ul type="disc">
<li>type="TheoIntervals"</li>
<li>type="TheoScales"</li>
<li>type="TheoKeySignatures"</li>
<li>type="EarIntervals"</li>
<li>type="EarCompareIntervals"</li>
<li>type="IdfyChord"</li>
<li>type="IdfyScales"</li>
</ul></div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2069826"></a>1.9.1.&nbsp;Exercises on key signatures</h3></div></div></div>
<pre class="programlisting">


tag name            value                                       default value
-----------------------------------------------------------------------------
max_accidentals     num (0..7)                                  [5]
problem_type        DeduceKey | WriteKey | Both                 [Both]
clef*               Sol | Fa4 | Fa3 | Do4 | Do3 | Do2 | Do1     [Sol]
mode                Major | Minor | Both                        [Both]

Example

{exercise type="TheoKeySignatures" width="100%" height="300" border="0}
    {max_accidentals}7{/max_accidentals
    {problem_type}both{/problem_type}
    {clef}sol{/clef}
    {mode}both{/mode}
{/exercise}
</pre>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2070529"></a>1.9.2.&nbsp;Exercises on intervals (theory)</h3></div></div></div>
<div class="table">
<a name="id2210064"></a><p class="title"><b>Table&nbsp;1.2.&nbsp;Params for TheoIntervalsCtrolParms</b></p>
<div class="table-contents"><table summary="Params for TheoIntervalsCtrolParms" border="1">
<colgroup>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>tag name</th>
<th>value</th>
<th>default value</th>
</tr></thead>
<tbody>
<tr>
<td>accidentals</td>
<td>none | simple | double</td>
<td>none</td>
</tr>
<tr>
<td>problem_type</td>
<td>DeduceInterval | BuildInterval | Both</td>
<td>Both</td>
</tr>
<tr>
<td>clef*</td>
<td>Sol | Fa4 | Fa3 | Do4 | Do3 | Do2 | Do1</td>
<td>Sol</td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2078812"></a>1.9.3.&nbsp;Exercises on chords (theory and aural training)</h3></div></div></div>
<div class="table">
<a name="id2078954"></a><p class="title"><b>Table&nbsp;1.3.&nbsp;Params for IdfyChordCtrolParams</b></p>
<div class="table-contents"><table summary="Params for IdfyChordCtrolParams" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>tag name</th>
<th>Purpose and value</th>
</tr></thead>
<tbody>
<tr>
<td valign="top">keys</td>
<td>
    <div class="variablelist"><dl>
<dt><span class="term">Purpose:</span></dt>
<dd>Defines the allowed key signatures for the exercise</dd>
<dt><span class="term">Value:</span></dt>
<dd>Keyword "all" or a list of allowed key signatures, i.e.: "Do,Fas"</dd>
<dt><span class="term">Default:</span></dt>
<dd>"all"</dd>
</dl></div>
</td>
</tr>
<tr>
<td valign="top">chords</td>
<td>
    <div class="variablelist"><dl>
<dt><span class="term">Purpose:</span></dt>
<dd>Defines the allowed chords for the exercise</dd>
<dt><span class="term">Value:</span></dt>
<dd>
<p>Keyword "all" or a list of allowed chords:</p>
<p>
        m-minor, M-major, a-augmented, d-diminished, s-suspended</p>
<p>
        T-triad, dom-dominant, hd-half diminished</p>
<p>
        Examples:</p>
<p>
        triads: mT, MT, aT, dT, s4, s2</p>
<p>
        sevenths: m7, M7, a7, d7, mM7, aM7 dom7, hd7</p>
<p>
        sixths: m6, M6, a6</p>
</dd>
<dt><span class="term">Default:</span></dt>
<dd>"mT,MT,aT,dT,m7,M7"</dd>
</dl></div>
</td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><pre class="programlisting">

mode                'theory' | 'earTraining'  Keyword indicating type of exercise

playMode*           'chord | ascending | descending' allowed play modes. Default: chord

showKey             '0 | 1' Default: 0 (do not display key signature)

inversions          '0 | 1' Default: 0 (do not allow inversions)

control_settings    Value="[key for storing the settings]"
                    By coding this param it is forced the inclusion of
                    the 'settings' link. Its value will be used
                    as the key for saving the user settings.

Example:
------------------------------------
{exercise type="IdfyChord" width="100%" height="300" border="0}
    {mode}earTraining{/mode}
    {chords}mT,MT,aT,dT,m7,M7,dom7{/chords}
    {keys}all{/keys}
{/exercise}
</pre>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2249379"></a>1.9.4.&nbsp;Exercises on scales (theory and aural training)</h3></div></div></div>
<pre class="programlisting">


tag name            value
-----------------------------------------------------------------------------
keys                Keyword "all" or a list of allowed key signatures, i.e.: "Do,Fas"
                    Default: all

scales              Keyword "all" or a list of allowed scales:
                    m-minor, M-major, a-augmented, d-diminished, s-suspended
                    T-triad, dom-dominant, hd-half diminished

                    triads: mT, MT, aT, dT, s4, s2
                    sevenths: m7, M7, a7, d7, mM7, aM7 dom7, hd7
                    sixths: m6, M6, a6

                    Default: "mT,MT,aT,dT,m7,M7"

mode                'theory' | 'earTraining'  Keyword indicating type of exercise

playMode*           'ascending | descending | both' allowed play modes. Default: ascending

showKey             '0 | 1' Default: 0 (do not display key signature)

control_settings    Value="[key for storing the settings]"
                    By coding this param it is forced the inclusion of
                    the 'settings' link. Its value will be used
                    as the key for saving the user settings.

Example:
------------------------------------
{exercise type="IdfyScale" width="100%" height="300" border="0}
    {mode}earTraining{/mode}
    {scales}mT,MT,aT,dT,m7,M7,dom7{/scales}
    {keys}all{/keys}
{/exercise}
</pre>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2084723"></a>1.9.5.&nbsp;Exercises on music reading</h3></div></div></div>
<pre class="programlisting">


optional tags to include controls:
----------------------------------

control_play        Include 'play' link. Default: do not include it.
                    Value="play label|stop playing label". i.e.: "Play|Stop" Stop label
                    is optional. Default labels: "Play|Stop"

control_solfa       Include 'solfa' link. Default: do not include it.
                    Value="music read label|stop music reading label". i.e.:
                    "Play|Stop". Stop label is optional.
                    Default labels: "Read|Stop"

control_settings    Value="[key for storing the settings]"
                    This param forces to include the 'settings' link. The
                    key will be used both as the key for saving the user settings
                    and as a tag to select the Setting Dialog options to allow.

control_go_back     id of chapter, section or theme, i.e.: "ch205"


tags to set up the score composer:
------------------------------------

fragment        one tag for each fragment to use

clef            one tag for each allowed clef. It includes the pitch scope.

time            a list of allowed time signatures, i.e.: "68,98,128"

key             keyword "all" or a list of allowed key signatures, i.e.: "Do,Fas"

maxInterval     a number indicating the maximum allowed interval for two consecutive notes
                Default: 4

</pre>
<pre class="programlisting">
{exercise type="TheoMusicReading" width="100%" height="300" border="0}
    {control_go_back}ch205{/control_go_back}
    {control_play}1{/control_play}
    {control_solfa}1{/control_solfa}
    {fragment}24;(n * c g+)(n * c l g-),(n * c g+)(n * s)(n * s g-){/fragment}
    {clef}Sol;a3;a5{/clef}
    {clef}Fa4;a2;f4{/clef}
    {time}24{/time}
    {key}Do{/key}
{/lmobject}
</pre>
</div>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2079808"></a>1.10.&nbsp;Splitting a book into several files</h2></div></div></div>
<p>Usually, for large eMusicBooks, you may want to break it up into multiple files,
as a book in a single file may not be the easiest thing to work with.

Luckily this is easy to do. FOr exaple, if you create a two files, part1.xml and part2.xml,
with the following content:</p>
<pre class="programlisting">
File 'part1.xml':

    {theme}
    {title}On Foo's{/title}
        {para}
        Stuff about Foo's goes here.
        {/para}
    {/theme}
</pre>
<pre class="programlisting">
File 'part2.xml':

    {theme}
    {title}On Bars's{/title}
          {para}
          Stuff about Bars's goes here.
          {/para}
    {/theme}
</pre>
<p>And creates a main file like:</p>
<pre class="programlisting">
{?xml version="1.0"?}
{!DOCTYPE book PUBLIC "-//LenMus//DTD eMusicBook 1.0//EN"
    "http://www.lenmus.org/dtd/eMusicBook.dtd" [
  {!ENTITY chapter1 SYSTEM "part1.xml}
  {!ENTITY chapter2 SYSTEM "part2.xml}
]}

{book}
  {title}Splitted book{/title}

  {theme}
  {title}Preface{/title}
    {para}
    This is a book splitted into three files
    {/para}
  {/theme}

  chapter1;
  chapter2;

{/book}
</pre>
<p>The use of the {!ENTITY} tags creates entities named 'chapter1' and 'chapter2'.
Using them automatically includes their contents in to the main.xml
file, so be careful to not put the {?xml?} preprocessor tags in
the included files (part1.xml and part2.xml respectively).</p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id1069967"></a>1.11.&nbsp;Translation</h2></div></div></div>
<p>Translating an eMusicBook requires the translation of the contents but a lot
of care have to be put to not translate the tags or the attribute values. So,
to avoid problmes and to simplify the translators job, alleMusicBook will be
processed to create a PO file with all its translatable contents, and
translators will deal only with .PO files.</p>
<div class="orderedlist"><ol type="1">
<li>exercise type="TheoIntervals"</li>
<li>exercise type="TheoScales"</li>
<li>exercise type="TheoKeySignatures"</li>
<li>exercise type="EarIntervals"</li>
<li>exercise type="EarCompareIntervals"</li>
<li>exercise type="IdfyChord"</li>
<li>exercise type="IdfyScales"</li>
<li>score</li>
</ol></div>
<div class="table">
<a name="id2078497"></a><p class="title"><b>Table&nbsp;1.4.&nbsp;Supported params for exercises. Cross-reference table.</b></p>
<div class="table-contents"><table summary="Supported params for exercises. Cross-reference table." border="1">
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>parameter</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>Obs.</th>
</tr></thead>
<tbody>
<tr>
<td>accidentals</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>chords</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>clef</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_go_back</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_measures</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_play</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_settings</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_solfa</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>fragment</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>inversions</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>key</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>keys</td>
</tr>
<tr>
<td>keys</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>max_accidentals</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>max_interval</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>maxInterval</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>max_interval</td>
</tr>
<tr>
<td>mode</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>music</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>music_border</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>problem_type</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>playMode</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>play_mode</td>
</tr>
<tr>
<td>scales</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>showKey</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>show_key</td>
</tr>
<tr>
<td>time</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>type</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>score_type</td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
</div>
</div></body>
</html>

