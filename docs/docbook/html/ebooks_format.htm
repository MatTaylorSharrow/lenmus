<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LenMus eMusicBooks' file format</title>
<link rel="stylesheet" href="singledoc.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.70.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="book" lang="en">
<div class="titlepage">
<div>
<div><h1 class="title">
<a name="book"></a>LenMus eMusicBooks' file format</h1></div>
<div><div class="author"><h3 class="author"><span class="surname">LenMus project</span></h3></div></div>
<div><p class="copyright">Copyright &copy; 2006-2007 Cecilio Salmeron</p></div>
<div><div class="legalnotice">
<a name="legal_notice"></a><p class="legalnotice-title"><b>Legal Notice</b></p>
<p>Permission is granted to copy, distribute, and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.2 or any later
version published by the Free Software Foundation; with no Invariant Sections, 
no Front-Cover Texts, and no Back-Cover Texts. A copy of the license
is available at 
<a href="http://www.gnu.org/licenses/fdl.html" target="_top">http://www.gnu.org/licenses/fdl.html</a>.
</p>
<p>This document may be copied and distributed in any medium, either
commercially or noncommercially, provided that the GNU Free Documentation
License (FDL), the copyright notices, and the license notice saying
the GNU FDL applies to the document are reproduced in all copies, 
and that you add no other conditions whatsoever to those of the GNU FDL. 
</p>
</div></div>
</div>
<hr>
</div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="preface"><a href="#preface">Preface</a></span></dt>
<dt><span class="chapter"><a href="#chIntro">1. LenMus eMusicBooks' file format</a></span></dt>
<dd><dl>
<dt><span class="sect1"><a href="#title">1.1. Tags to use: the eMusicBook DTD</a></span></dt>
<dt><span class="sect1"><a href="#id2174903">1.2. Starting a document</a></span></dt>
<dt><span class="sect1"><a href="#creating_toc">1.3. Creating a Table of Content (TOC)</a></span></dt>
<dt><span class="sect1"><a href="#id2174957">1.4. Indexes</a></span></dt>
<dt><span class="sect1"><a href="#id2175325">1.5. Lists</a></span></dt>
<dt><span class="sect1"><a href="#id1319812">1.6. Links</a></span></dt>
<dt><span class="sect1"><a href="#id1319922">1.7. Tags for content</a></span></dt>
<dt><span class="sect1"><a href="#id1310371">1.8. Including scores and interactive exercises</a></span></dt>
<dt><span class="sect1"><a href="#id1307493">1.9. Splitting a book into several files</a></span></dt>
<dt><span class="sect1"><a href="#id1311572">1.10. Translation</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="#ch2">2. Including scores and interactive exercises</a></span></dt>
<dd><dl>
<dt><span class="sect1"><a href="#id1312116">2.1. Including scores</a></span></dt>
<dt><span class="sect1"><a href="#id2311336">2.2. Including exercises</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="#id2316072">2.2.1. Exercises on key signatures</a></span></dt>
<dt><span class="sect2"><a href="#id2174523">2.2.2. Exercises on intervals (theory)</a></span></dt>
<dt><span class="sect2"><a href="#id2298681">2.2.3. Exercises on chords (theory and aural training)</a></span></dt>
<dt><span class="sect2"><a href="#id1319933">2.2.4. Exercises on scales (theory and aural training)</a></span></dt>
<dt><span class="sect2"><a href="#id1786196">2.2.5. Exercises on music reading</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="appendix"><a href="#id2298622">A. Params cross-reference</a></span></dt>
<dt><span class="appendix"><a href="#id1340061">B. Tags cross-reference</a></span></dt>
</dl>
</div>
<div class="list-of-tables">
<p><b>List of Tables</b></p>
<dl>
<dt>1.1. <a href="#id1307685">Supported DocBook tags</a>
</dt>
<dt>A.1. <a href="#id1309742">Supported params for exercises. Cross-reference table.</a>
</dt>
</dl>
</div>
<div class="preface" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="preface"></a>Preface</h2></div></div></div>
<p>
To be written.
</p>
</div>
<div class="chapter" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="chIntro"></a>Chapter&nbsp;1.&nbsp;LenMus eMusicBooks' file format</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="#title">1.1. Tags to use: the eMusicBook DTD</a></span></dt>
<dt><span class="sect1"><a href="#id2174903">1.2. Starting a document</a></span></dt>
<dt><span class="sect1"><a href="#creating_toc">1.3. Creating a Table of Content (TOC)</a></span></dt>
<dt><span class="sect1"><a href="#id2174957">1.4. Indexes</a></span></dt>
<dt><span class="sect1"><a href="#id2175325">1.5. Lists</a></span></dt>
<dt><span class="sect1"><a href="#id1319812">1.6. Links</a></span></dt>
<dt><span class="sect1"><a href="#id1319922">1.7. Tags for content</a></span></dt>
<dt><span class="sect1"><a href="#id1310371">1.8. Including scores and interactive exercises</a></span></dt>
<dt><span class="sect1"><a href="#id1307493">1.9. Splitting a book into several files</a></span></dt>
<dt><span class="sect1"><a href="#id1311572">1.10. Translation</a></span></dt>
</dl>
</div>
<p>LenMus is a reader for books about music. These book are not part of the program
and anyone can write them. This document is intended to describe the format of the
eMusicBooks' files.</p>
<p>eMusicBooks are written in XML format. 
The reason to choose XML as the format for eMusicBooks is due to its advantages. Among them
I would emphasize:</p>
<div class="itemizedlist"><ul type="disc">
<li>The files are also readable by
    humans, and can be created and edited with any
    text editor.</li>
<li>XML allows to separate content from presentation. The author can concentrate on
    the content and the presentation can be later changed or chosen to suit different needs.
    </li>
<li>XLM allows for "single-sourcing", that is, it permits to generate multiple 
    delivery formats, such as HTML, PDF, online help, etc., from the same source file.</li>
</ul></div>
<p>As an eMusicBook is just a book about music, I have decide to take advantage of the widely used
'DocBook' XML format. The DocBook markup language, maintained by the OASIS consortium. As
DocBook is specifically suited for software documentation, I have added a few specific tags
for LenMus purposes and have taken many of the tags from DocBook, so that people 
having good knowledge of this format will find easy to write eMusicBooks.</p>
<p>The eMusicBook format consists of tags, such as &lt;book&gt;, each with corresponding
ending tags such as &lt;/book&gt;, and textual content, such as "This is a line of text".
Here you have a simple example:</p>
<pre class="programlisting">
&lt;book id="first_book&gt;
  &lt;title&gt;My first eMusicBook&lt;/title&gt;

  &lt;theme id="p1&gt;
    &lt;title&gt;Page 1&lt;/title&gt;
    &lt;para&gt;Hello world!&lt;/para&gt;
    &lt;para&gt;This is my first music eMusicBook!&lt;/para&gt;
  &lt;/theme&gt;

  &lt;theme id="p2&gt;
    &lt;title&gt;Page 2&lt;/title&gt;
    &lt;para&gt;Have a good day!&lt;/para&gt;
  &lt;/theme&gt;

&lt;/book&gt;
</pre>
<p>The complete content of the document (a "book") has been structured into
two "themes", each with a "title" and consisting of one or more "para(graphs)".</p>
<p>eMusicBooks are structured as conventional printed books, in chapter, sections,
sub-sections, etc.. But the final structuring chunk is the <span><strong class="command">theme</strong></span>,
that is, the information that is going to be displayed in a page. This is the main
difference with books in paper: paper has finite physical dimensions so text flows
from one page to the next one. But the 'page' in a computer display can have an
infinite dimension, so you must decide how you would like to chunck the document to
present it to the reader. Each chunk is named a <span><strong class="command">theme</strong></span>.</p>
<p>Therefore, a <span><strong class="command">book</strong></span> is a collection of <span><strong class="command">themes</strong></span>, organized
in <span><strong class="command">chapters</strong></span> and <span><strong class="command">sections</strong></span>, and sections can also have sub-sections.
For example:</p>
<pre class="programlisting">
&lt;book id="first_book&gt;
  &lt;title&gt;My first eMusicBook&lt;/title&gt;

  &lt;chapter id="ch1&gt;
  &lt;title&gt;The first chapter&lt;/title&gt;

    &lt;section id="s1&gt;
    &lt;title&gt;Section one&lt;/title&gt;
      &lt;theme id="p1&gt;
        &lt;title&gt;Page 1&lt;/title&gt;
        &lt;para&gt;Hello world!&lt;/para&gt;
        &lt;para&gt;This is my first music eMusicBook!&lt;/para&gt;
      &lt;/theme&gt;
    &lt;/section&gt;

    &lt;section id="s2&gt;
    &lt;title&gt;Section two&lt;/title&gt;
      &lt;theme id="p2&gt;
        &lt;title&gt;Page 2&lt;/title&gt;
        &lt;para&gt;Have a good day!&lt;/para&gt;
      &lt;/theme&gt;
    &lt;/section&gt;

&lt;/book&gt;
</pre>
<p>Themes can has also internal structure, but sections inside a theme
will be named <span><strong class="command">parts</strong></span>.</p>
<p>Indenting and all whitespace is ignored except in some verbatim elements.</p>
<p>Notice how the tags indicate the structure and meaning of the content, but not
its appearance. There is nothing to say "put this paragraph in bold-face type" or
"center this on the page". This is by design. The same eMusicBook
file can be processed into many different output formats, each with a completely
different appearance and even a different arrangement of content elements. So authors
must put the emphasis on content not on appearance.</p>
<p>Sections and parts can be nested to create sub-sections and sub-parts. For example:</p>
<pre class="programlisting">
    &lt;section&gt;
        &lt;section&gt;
            &lt;section&gt;...&lt;/section&gt;
            &lt;section&gt;
                &lt;section&gt;
                    &lt;section&gt;...&lt;/section&gt;
                    &lt;section&gt;...&lt;/section&gt;
                &lt;/section&gt;
                &lt;section&gt;...&lt;/section&gt;
            &lt;/section&gt;
        &lt;/section&gt;
        &lt;section&gt;...&lt;/section&gt;
    &lt;/section&gt;
    &lt;section&gt;...&lt;/section&gt;
    &lt;section&gt;...&lt;/section&gt;
</pre>
<p>No theoretical limit on depth of nesting.</p>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="title"></a>1.1.&nbsp;Tags to use: the eMusicBook DTD</h2></div></div></div>
<p>To write an eMusicBook you need to know the set of tags that can be used.
The formal way of defining this is by using a <span><strong class="command">Document Type Definition</strong></span> or
DTD. The DTD is an special file defining the legal XML tags and attributes
that an author can
use, and how they relate to each other. For example, a <span><strong class="command">book</strong></span> element can
contain a <span><strong class="command">title</strong></span> element, any number of <span><strong class="command">para</strong></span> elements for paragraphs,
and any number of <span><strong class="command">chapter</strong></span> elements. It also serves to automatically checking
your document against the valid element names and rules, so to verify
that your XML document is correct. Using the DTD and XML syntax, authors
mark up their text content with tag names enclosed in angle brackets
like &lt;chapter&gt;. The markup is similar to HTML, but with more tags and
tighter rules.</p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2174903"></a>1.2.&nbsp;Starting a document</h2></div></div></div>
<p>All eMusicBook documents always start with the xml declaration file type,
followed by a reference to the eMusicBook DTD. And then the eMusicBook content
enclosed by a &lt;book&gt; tag:</p>
<pre class="programlisting">
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE book PUBLIC "-//LenMus//DTD eMusicBook 1.0//EN"
    "http://www.lenmus.org/dtd/eMusicBook.dtd&gt;

&lt;book&gt;
&lt;bookinfo&gt;
    &lt;title&gt;Music Reading exercises&lt;/title&gt;
    &lt;level&gt;2&lt;/level&gt;
    &lt;subject&gt;Musical language. Theory&lt;/subject&gt;
&lt;/bookinfo&gt;

   ... here the book content

&lt;/book&gt;
</pre>
<p>The &lt;bookinfo&gt; tag contains all meta-information about the book:
Its title, its level and its cathegorithation (&lt;subject&gt; tag).</p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="creating_toc"></a>1.3.&nbsp;Creating a Table of Content (TOC)</h2></div></div></div>
<p>When processing an eMusicBook, LenMus automatically compiles a table of
content for the book.
The TOC is formed by all chapters, sections and themes unless they have the attribute
'toc="no"'. Default value, if nothing specified, is toc="yes".</p>
<p>The TOC is
structured following the structure of the included chapters, sections and themes.
Notice that parts inside a theme are not included in the TOC.</p>
<p>When displaying the TOC of an eMusicBook in the navigation panel of the LenMus
program it is possible to include images instead of (or beside of) titles.
These images must be specified by using tag &lt;tocimage&gt; when defining chapters, sections
and themes. &lt;tocimage&gt; tag must go before the &lt;title&gt; tag. For example:</p>
<pre class="programlisting">
&lt;theme id="ch205"&gt;
&lt;tocimage&gt;img205.png&lt;/tocimage&gt;
&lt;title&gt;8th note tied to group of one 8th and two 16th notes&lt;/title&gt;

&lt;para&gt;In this lesson .....
</pre>
<p>The image must not contain path information as all images for an eMusicBook
must be stored in the same folder than the book XML files.</p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2174957"></a>1.4.&nbsp;Indexes</h2></div></div></div>
<p>When processing an eMusicBook, LenMus automatically compiles an index. To establish
that a term is placed in the index, we have to to mark it as being indexed.
Doing so is simple, we just use the &lt;indexterm&gt; tag and give the
term a name. Example:
</p>
<pre class="programlisting">
This note is also known in British English as 'crochet'
&lt;indexterm&gt;crochet&lt;indexterm&gt;, and its usage...
</pre>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2175325"></a>1.5.&nbsp;Lists</h2></div></div></div>
<p>
An 'itemized' list is a list in which each entry is marked with a bullet or other dingbat. Example:</p>
<div class="informaltable"><table border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Source</th>
<th>Output</th>
</tr></thead>
<tbody><tr>
<td>
<pre class="programlisting">
&lt;para&gt;This is my shopping list:&lt;/para&gt;
&lt;itemizedlist&gt;
&lt;listitem&gt;Apples&lt;/listitem&gt;
&lt;listitem&gt;Tomatos (but red)&lt;/listitem&gt;
&lt;listitem&gt;Carrots and beans&lt;/listitem&gt;
&lt;/itemizedlist&gt;
</pre>
</td>
<td>
<p>This is my shopping list:</p>
      <div class="itemizedlist"><ul type="disc">
<li>Apples</li>
<li>Tomatos (but red)</li>
<li>Carrots and beans</li>
</ul></div>
</td>
</tr></tbody>
</table></div>
<p>
An 'ordered' list is a list in which each entry is marked with a sequentially incremented
label, ussualy numerical. Example:</p>
<div class="informaltable"><table border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Source</th>
<th>Output</th>
</tr></thead>
<tbody><tr>
<td>
<pre class="programlisting">
&lt;para&gt;This is my shopping list:&lt;/para&gt;
&lt;orderedlist&gt;
&lt;listitem&gt;Apples&lt;/listitem&gt;
&lt;listitem&gt;Tomatos (but red)&lt;/listitem&gt;
&lt;listitem&gt;Carrots and beans&lt;/listitem&gt;
&lt;/orderedlist&gt;
</pre>
</td>
<td>
    <p>This is my shopping list:</p>
      <div class="orderedlist"><ol type="1">
<li>Apples</li>
<li>Tomatos (but red)</li>
<li>Carrots and beans</li>
</ol></div>
</td>
</tr></tbody>
</table></div>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id1319812"></a>1.6.&nbsp;Links</h2></div></div></div>
<p>Its is possible to include two types of links: external, to an URL, or
internal, to other themes of the eMusicBook or to another eMusicBook.
The tags to use are different:</p>
<p>External links (links to an URL):</p>
<pre class="programlisting">
&lt;ulink url="http://www.lenmus.org/&gt;visit our website&lt;/ulink&gt;
&lt;ulink url='#LenMusPage/SingleExercises_ch0.htm'&gt; a link to theme 'id=ch0' of book 'SingleExercises'
&lt;ulink url='#LenMusPage/SingleExercises.lmb'&gt; a link to cover page of book 'SingleExercises'
&lt;ulink url='#LenMusPage/Exercises for ear training'&gt; a link to a theme whose title is 'Exercises for ear training'
</pre>
<p>Internal links are based on the eMusicBook title and on the id attributes added to
the themes:</p>
<pre class="programlisting">
&lt;link linkend="idname"&gt;Internal link&lt;/link&gt; a link to theme 'idname' of this book
</pre>
<p>
Example:
</p>
<pre class="programlisting">
&lt;section id="introduction&gt;
...
&lt;/section&gt;

&lt;section id="another&gt;
&lt;para&gt;
    For more info see the &lt;link linkend="introduction"&gt;intro
    section&lt;/link&gt;.
&lt;/para&gt;
</pre>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id1319922"></a>1.7.&nbsp;Tags for content</h2></div></div></div>
<p>Tags for content are taken from DocBook. Tags currently supported
are restricted to the following:</p>
<div class="table">
<a name="id1307685"></a><p class="title"><b>Table&nbsp;1.1.&nbsp;Supported DocBook tags</b></p>
<div class="table-contents"><table summary="Supported DocBook tags" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Description</th>
<th>Example</th>
</tr></thead>
<tbody>
<tr>
<td valign="top">Paragraphs</td>
<td><pre class="programlisting">
&lt;para&gt;
This is a very short paragraph
&lt;/para&gt;
</pre></td>
</tr>
<tr>
<td>Traditional publishing inlines</td>
<td>&nbsp;</td>
</tr>
<tr>
<td valign="top">Emphasis</td>
<td><pre class="programlisting">
&lt;para&gt;
This paragraph has &lt;emphasis&gt;these words&lt;/emphasis&gt; highlighted
&lt;/para&gt;
</pre></td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break"><p>
&lt;titleabbrev&gt; </p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id1310371"></a>1.8.&nbsp;Including scores and interactive exercises</h2></div></div></div>
<p>Scores and interactive exercises are included by using the &lt;score&gt; and
&lt;exercise&gt; tags, respectively. These tags and their content is explained in detail
in <a href="#ch2" title="Chapter&nbsp;2.&nbsp;Including scores and interactive exercises">chapter 2</a>.</p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id1307493"></a>1.9.&nbsp;Splitting a book into several files</h2></div></div></div>
<p>Usually, for large eMusicBooks, you may want to break it up into multiple files,
as a book in a single file may not be the easiest thing to work with.

Luckily this is easy to do. FOr exaple, if you create a two files, part1.xml and part2.xml,
with the following content:</p>
<pre class="programlisting">
File 'part1.xml':

    &lt;theme&gt;
    &lt;title&gt;On Foo's&lt;/title&gt;
        &lt;para&gt;
        Stuff about Foo's goes here.
        &lt;/para&gt;
    &lt;/theme&gt;
</pre>
<pre class="programlisting">
File 'part2.xml':

    &lt;theme&gt;
    &lt;title&gt;On Bars's&lt;/title&gt;
          &lt;para&gt;
          Stuff about Bars's goes here.
          &lt;/para&gt;
    &lt;/theme&gt;
</pre>
<p>And creates a main file like:</p>
<pre class="programlisting">
&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE book PUBLIC "-//LenMus//DTD eMusicBook 1.0//EN"
    "http://www.lenmus.org/dtd/eMusicBook.dtd" [
  &lt;!ENTITY chapter1 SYSTEM "part1.xml&gt;
  &lt;!ENTITY chapter2 SYSTEM "part2.xml&gt;
]&gt;

&lt;book&gt;
  &lt;title&gt;Splitted book&lt;/title&gt;

  &lt;theme&gt;
  &lt;title&gt;Preface&lt;/title&gt;
    &lt;para&gt;
    This is a book splitted into three files
    &lt;/para&gt;
  &lt;/theme&gt;

  chapter1;
  chapter2;

&lt;/book&gt;
</pre>
<p>The use of the &lt;!ENTITY&gt; tags creates entities named 'chapter1' and 'chapter2'.
Using them automatically includes their contents in to the main.xml
file, so be careful to not put the &lt;?xml?&gt; preprocessor tags in
the included files (part1.xml and part2.xml respectively).</p>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id1311572"></a>1.10.&nbsp;Translation</h2></div></div></div>
<p>Translating an eMusicBook requires the translation of the contents but a lot
of care have to be put to not translate the tags or the attribute values. So,
to avoid problmes and to simplify the translators job, all eMusicBooks will be
processed to create a PO file with all its translatable contents, and
translators will deal only with .PO files.</p>
</div>
</div>
<div class="chapter" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="ch2"></a>Chapter&nbsp;2.&nbsp;Including scores and interactive exercises</h2></div></div></div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="sect1"><a href="#id1312116">2.1. Including scores</a></span></dt>
<dt><span class="sect1"><a href="#id2311336">2.2. Including exercises</a></span></dt>
<dd><dl>
<dt><span class="sect2"><a href="#id2316072">2.2.1. Exercises on key signatures</a></span></dt>
<dt><span class="sect2"><a href="#id2174523">2.2.2. Exercises on intervals (theory)</a></span></dt>
<dt><span class="sect2"><a href="#id2298681">2.2.3. Exercises on chords (theory and aural training)</a></span></dt>
<dt><span class="sect2"><a href="#id1319933">2.2.4. Exercises on scales (theory and aural training)</a></span></dt>
<dt><span class="sect2"><a href="#id1786196">2.2.5. Exercises on music reading</a></span></dt>
</dl></dd>
</dl>
</div>
<p>Scores and interactive exercises are included by using the &lt;score&gt; and
&lt;exercise&gt; tags, respectively. The content of tese tags a a group of parameters
for configuring the exercise or for definig the score and the controls.
The tags possible tagas are described in the following sections.</p>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id1312116"></a>2.1.&nbsp;Including scores</h2></div></div></div>
<p>Scores can be included by using the &lt;score&gt; tag. The &lt;score&gt; tag admits the
following parameters:</p>
<div class="variablelist"><dl>
<dt><span class="term">&lt;type&gt;</span></dt>
<dd>Defines the type of score being included. Possible values: "short | pattern | 
    full | XMLFile | LDPFile". If this param is not specified, default 
    assumed value is: "full"</dd>
<dt><span class="term">&lt;music&gt;</span></dt>
<dd>Mandatory. Defines the score content. Depending on the previous parameter it 
    will be described using
    the LDP language or the MusicXML language.</dd>
<dt><span class="term">&lt;music_border&gt;</span></dt>
<dd>Defines the type of score being included. Possible values:
    "0 | 1".
    If this param is not specified it is assumed: "0" (no border around score)
    </dd>
<dt><span class="term">&lt;control_play&gt;</span></dt>
<dd>Include 'play' link. Default: do not include it.
    Value="play label|stop playing label". i.e.: "Play|Stop" Stop label
    is optional. Default labels: "Play|Stop"</dd>
<dt><span class="term">&lt;control_solfa&gt;</span></dt>
<dd>Include 'solfa' link. Default: do not include it.
    Value="music read label|stop music reading label". i.e.:
    "Play|Stop". Stop label is optional.
    Default labels: "Read|Stop"</dd>
<dt><span class="term">&lt;control_measures&gt;</span></dt>
<dd>Include 'play measure #' links, one per measure.
    Default: do not include them.
    Value="play label|stop label". i.e.:
    "Play|Stop". Stop label is optional.
    Default labels: "Measure %d|Stop %d"</dd>
</dl></div>
<p>Example:</p>
<pre class="programlisting">
&lt;score classid="Score" width="600" height="100" border="0&gt;
    &lt;type&gt;short&lt;/type&gt;
    &lt;music_border&gt;0&lt;/music_border&gt;
    &lt;control_play&gt;1&lt;/control_play&gt;
    &lt;music&gt;
        (Metrica 2 4)(n a4 c g+)(n a4 c l g-)(n a4 c g+)(n a4 s)(n a4 s g-)(Barra Doble))
        (c (n a4 c)(n a4 n)(n a4 s g+)(n a4 s g-)(Barra Final))
    &lt;/music&gt;
&lt;/score&gt;
</pre>
</div>
<div class="sect1" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="id2311336"></a>2.2.&nbsp;Including exercises</h2></div></div></div>
<p>Interactive exercises can be included by using the &lt;exercise&gt; tag. All exercises
available in LenMus program can be embedded in an eMusicBook. Attribute 'type' specifies
the type of exercise:</p>
<div class="itemizedlist"><ul type="disc">
<li>type="TheoIntervals"</li>
<li>type="TheoScales"</li>
<li>type="TheoKeySignatures"</li>
<li>type="EarIntervals"</li>
<li>type="EarCompareIntervals"</li>
<li>type="IdfyChord"</li>
<li>type="IdfyScales"</li>
</ul></div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2316072"></a>2.2.1.&nbsp;Exercises on key signatures</h3></div></div></div>
<div class="variablelist"><dl>
<dt><span class="term">&lt;max_accidentals&gt;</span></dt>
<dd>Defines the maximum number of accidentals to use in the exercise.
    Possible values: A number from 0..7. If this param is not specified, default 
    assumed value is: "5".</dd>
<dt><span class="term">&lt;problem_type&gt;</span></dt>
<dd>Defines the type of exercise. Possible values: "DeduceKey | WriteKey | Both". If this param is not specified, default 
    assumed value is: "Both".</dd>
<dt><span class="term">&lt;clef&gt;</span></dt>
<dd>Possible values: "Sol | Fa4 | Fa3 | Do4 | Do3 | Do2 | Do1". 
    If this param is not specified, default 
    assumed value is: "Sol".</dd>
<dt><span class="term">&lt;mode&gt;</span></dt>
<dd>Possible values: "Major | Minor | Both". If this param is not specified, default 
    assumed value is: "Both".</dd>
</dl></div>
<p>Example</p>
<pre class="programlisting">
&lt;exercise type="TheoKeySignatures" width="100%" height="300" border="0&gt;
    &lt;max_accidentals&gt;7&lt;/max_accidentals
    &lt;problem_type&gt;both&lt;/problem_type&gt;
    &lt;clef&gt;sol&lt;/clef&gt;
    &lt;mode&gt;both&lt;/mode&gt;
&lt;/exercise&gt;
</pre>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2174523"></a>2.2.2.&nbsp;Exercises on intervals (theory)</h3></div></div></div>
<div class="variablelist"><dl>
<dt><span class="term">&lt;accidentals&gt;</span></dt>
<dd>Possible values: "none | simple | double". If this param 
    is not specified, default 
    assumed value is: "none".</dd>
<dt><span class="term">&lt;problem_type&gt;</span></dt>
<dd>DPossible values: "DeduceInterval | BuildInterval | Both". If 
    this param is not specified, default 
    assumed value is: "Both".</dd>
<dt><span class="term">&lt;clef&gt;</span></dt>
<dd>Possible values: "Sol | Fa4 | Fa3 | Do4 | Do3 | Do2 | Do1". If 
    this param is not specified, default 
    assumed value is: "Sol".</dd>
</dl></div>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id2298681"></a>2.2.3.&nbsp;Exercises on chords (theory and aural training)</h3></div></div></div>
<div class="variablelist"><dl>
<dt><span class="term">&lt;keys&gt;</span></dt>
<dd>Defines the allowed key signatures for the exercise. Possible values: Keyword
    "all" or a list of allowed key signatures, i.e.: "Do,Fas". If this param 
    is not specified, default 
    assumed value is: "all"</dd>
<dt><span class="term">&lt;chords&gt;</span></dt>
<dd>
<p>Defines the allowed chords for the exercise. Possible values: Keyword
    "all" or a list of allowed chords:</p>
<p>
    m-minor, M-major, a-augmented, d-diminished, s-suspended</p>
<p>
    T-triad, dom-dominant, hd-half diminished</p>
<p>
    Examples:</p>
<p>
    triads: mT, MT, aT, dT, s4, s2</p>
<p>
    sevenths: m7, M7, a7, d7, mM7, aM7 dom7, hd7</p>
<p>
    sixths: m6, M6, a6</p>
    If this param is not specified, default 
    assumed value is: ""mT,MT,aT,dT,m7,M7"</dd>
<dt><span class="term">&lt;mode&gt;</span></dt>
<dd>Possible values: "'theory' | 'earTraining'  Keyword 
    indicating type of exercise".</dd>
<dt><span class="term">&lt;playMode&gt;</span></dt>
<dd>Possible values: "'chord | ascending | descending' allowed 
    play modes. Default: chord".</dd>
<dt><span class="term">&lt;showKey&gt;</span></dt>
<dd>Possible values: "'0 | 1' Default: 0 (do not display 
    key signature)".</dd>
<dt><span class="term">&lt;inversions&gt;</span></dt>
<dd>Possible values: "'0 | 1' Default: 0 (do not allow 
    inversions)".</dd>
<dt><span class="term">&lt;control_settings&gt;</span></dt>
<dd>Possible values: "[key for storing the settings]"
    By coding this param it is forced the inclusion of
    the 'settings' link. Its value will be used
    as the key for saving the user settings.".</dd>
</dl></div>
<p>Example</p>
<pre class="programlisting">
&lt;exercise type="IdfyChord" width="100%" height="300" border="0&gt;
    &lt;mode&gt;earTraining&lt;/mode&gt;
    &lt;chords&gt;mT,MT,aT,dT,m7,M7,dom7&lt;/chords&gt;
    &lt;keys&gt;all&lt;/keys&gt;
&lt;/exercise&gt;
</pre>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id1319933"></a>2.2.4.&nbsp;Exercises on scales (theory and aural training)</h3></div></div></div>
<div class="variablelist"><dl>
<dt><span class="term">&lt;keys&gt;</span></dt>
<dd>Possible values: Keyword "all" or a list of allowed key signatures, i.e.: "Do,Fas"
                    Default: all.</dd>
<dt><span class="term">&lt;scales&gt;</span></dt>
<dd>Possible values: Keyword "all" or a list of allowed scales:
    m-minor, M-major, a-augmented, d-diminished, s-suspended
    T-triad, dom-dominant, hd-half diminished
    triads: mT, MT, aT, dT, s4, s2
    sevenths: m7, M7, a7, d7, mM7, aM7 dom7, hd7
    sixths: m6, M6, a6
    Default: "mT,MT,aT,dT,m7,M7".</dd>
<dt><span class="term">&lt;mode&gt;</span></dt>
<dd>Possible values: "'theory' | 'earTraining'  Keyword indicating
    type of exercise.</dd>
<dt><span class="term">&lt;playMode&gt;</span></dt>
<dd>Possible values: "'ascending | descending | both' allowed play
    modes. Default: ascending.</dd>
<dt><span class="term">&lt;showKey&gt;</span></dt>
<dd>Possible values: "'0 | 1' Default: 0 (do not display
    key signature).</dd>
<dt><span class="term">&lt;control_settings&gt;</span></dt>
<dd>Possible values: "Value="[key for storing the settings]"
    By coding this param it is forced the inclusion of
    the 'settings' link. Its value will be used
    as the key for saving the user settings.</dd>
</dl></div>
<p>Example</p>
<pre class="programlisting">
&lt;exercise type="IdfyScale" width="100%" height="300" border="0&gt;
    &lt;mode&gt;earTraining&lt;/mode&gt;
    &lt;scales&gt;mT,MT,aT,dT,m7,M7,dom7&lt;/scales&gt;
    &lt;keys&gt;all&lt;/keys&gt;
&lt;/exercise&gt;
</pre>
</div>
<div class="sect2" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="id1786196"></a>2.2.5.&nbsp;Exercises on music reading</h3></div></div></div>
<p>optional tags for including controls:</p>
<div class="variablelist"><dl>
<dt><span class="term">&lt;control_play&gt;</span></dt>
<dd>Include 'play' link. Default: do not include it.
    Value="play label|stop playing label". i.e.: "Play|Stop" Stop label
    is optional. Default labels: "Play|Stop".</dd>
<dt><span class="term">&lt;control_solfa&gt;</span></dt>
<dd>Include 'solfa' link. Default: do not include it.
    Value="music read label|stop music reading label". i.e.:
    "Play|Stop". Stop label is optional.
    Default labels: "Read|Stop".</dd>
<dt><span class="term">&lt;control_settings&gt;</span></dt>
<dd>Value="[key for storing the settings]"
    This param forces to include the 'settings' link. The
    key will be used both as the key for saving the user settings
    and as a tag to select the Setting Dialog options to allow.</dd>
<dt><span class="term">&lt;control_go_back&gt;</span></dt>
<dd>id of chapter, section or theme, i.e.: "ch205".</dd>
</dl></div>
<p>mandatory tags to set up the score composer:</p>
<div class="variablelist"><dl>
<dt><span class="term">&lt;fragment&gt;</span></dt>
<dd>one tag for each fragment to use.</dd>
<dt><span class="term">&lt;clef&gt;</span></dt>
<dd>one tag for each allowed clef. It includes the pitch scope.</dd>
<dt><span class="term">&lt;time&gt;</span></dt>
<dd>a list of allowed time signatures, i.e.: "68,98,128".</dd>
<dt><span class="term">&lt;key&gt;</span></dt>
<dd>keyword "all" or a list of allowed key signatures, i.e.: "Do,Fas".</dd>
<dt><span class="term">&lt;maxInterval&gt;</span></dt>
<dd>a number indicating the maximum allowed interval for two 
    consecutive notes. Default: 4</dd>
</dl></div>
<p>Example</p>
<pre class="programlisting">
&lt;exercise type="TheoMusicReading" width="100%" height="300" border="0&gt;
    &lt;control_go_back&gt;ch205&lt;/control_go_back&gt;
    &lt;control_play&gt;1&lt;/control_play&gt;
    &lt;control_solfa&gt;1&lt;/control_solfa&gt;
    &lt;fragment&gt;24;(n * c g+)(n * c l g-),(n * c g+)(n * s)(n * s g-)&lt;/fragment&gt;
    &lt;clef&gt;Sol;a3;a5&lt;/clef&gt;
    &lt;clef&gt;Fa4;a2;f4&lt;/clef&gt;
    &lt;time&gt;24&lt;/time&gt;
    &lt;key&gt;Do&lt;/key&gt;
&lt;/lmobject&gt;
</pre>
</div>
</div>
</div>
<div class="appendix" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="id2298622"></a>Appendix&nbsp;A.&nbsp;Params cross-reference</h2></div></div></div>
<p>In following table, columns labeled as 1, 2, .. 8 indicate the applicability of
the described tag to each type of exercise, as listed here:</p>
<div class="orderedlist"><ol type="1">
<li>exercise type="TheoIntervals"</li>
<li>exercise type="TheoScales"</li>
<li>exercise type="TheoKeySignatures"</li>
<li>exercise type="EarIntervals"</li>
<li>exercise type="EarCompareIntervals"</li>
<li>exercise type="IdfyChord"</li>
<li>exercise type="IdfyScales"</li>
<li>score</li>
</ol></div>
<div class="table">
<a name="id1309742"></a><p class="title"><b>Table&nbsp;A.1.&nbsp;Supported params for exercises. Cross-reference table.</b></p>
<div class="table-contents"><table summary="Supported params for exercises. Cross-reference table." border="1">
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>parameter</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>Obs.</th>
</tr></thead>
<tbody>
<tr>
<td>accidentals</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>chords</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>clef</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_go_back</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_measures</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_play</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_settings</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>control_solfa</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>fragment</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>inversions</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>key</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>keys</td>
</tr>
<tr>
<td>keys</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>max_accidentals</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>max_interval</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>maxInterval</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>max_interval</td>
</tr>
<tr>
<td>mode</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>music</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>music_border</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>problem_type</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>playMode</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>play_mode</td>
</tr>
<tr>
<td>scales</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>showKey</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>show_key</td>
</tr>
<tr>
<td>time</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>&nbsp;</td>
</tr>
<tr>
<td>type</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>score_type</td>
</tr>
</tbody>
</table></div>
</div>
<br class="table-break">
</div>
<div class="appendix" lang="en">
<div class="titlepage"><div><div><h2 class="title">
<a name="id1340061"></a>Appendix&nbsp;B.&nbsp;Tags cross-reference</h2></div></div></div>
<p>
The present appendix list alphabetically all tags that are defined and supported in current
version of the LangTool processror program, used to compile the eMusicBooks:
</p>
<div class="itemizedlist"><ul type="disc">
<li>abstract - 
    Used inside &lt;bookinfo&gt; for the text to include in the cover page after
    the book title
</li>
<li>book - 
    An eMusicBook. It is the main tag.
</li>
<li>bookinfo - 
    Meta-information for an eMuiscBook
</li>
<li>chapter - 
    A chapter, as of a book
</li>
<li>content - 
    When a book is splitted in two or more files, a restriction of XML syntax
    is that the file must content just one tag. For your convenience, tag &lt;content&gt;
    is just wrapper for all the content of an XML splitted file.
</li>
<li>copyright - 
    Copyright information about a document. It is used inside a &lt;bookinfo&gt; tag 
    for the text to include in the cover page after the abstract
</li>
<li>emphasis - 
    Emphasized text
</li>
<li>exercise - 
    An interactive musica exercise
</li>
<li>holder - 
    The name of the individual or organization that holds a copyright. It is 
    used inside &lt;copyright&gt; tag.
</li>
<li>itemizedlist - 
    A list in which each entry is marked with a bullet or other dingbat
</li>
<li>leaflet - 
    An eMusicBook leaflet. It is the main tag, used instead of &lt;book&gt; for single
    page books.
</li>
<li>leafletcontent - 
    Used instaed of &lt;theme&gt; tag for leaflets. A wrapper for the leaflet content.
</li>
<li>legalnotice - 
    A statement of legal obligations or requirements
</li>
<li>link - 
    A hypertext link
</li>
<li>listitem - 
    A wrapper for the elements of a list item
</li>
<li>orderedlist - 
    A list in which each entry is marked with a sequentially incremented label
</li>
<li>para - 
    A paragraph
</li>
<li>part - 
    A section inside a theme
</li>
<li>score - 
    An interactive music score
</li>
<li>section - 
    A section inside a chapter. Can be used recursively, that is, a section can 
    also have sections.
</li>
<li>simplelist - 
    An undecorated list of single words or short phrases
</li>
<li>theme - 
</li>
<li>title - 
    The text of the title of a book, chapter, section, theme or part of a document.
</li>
<li>titleabbrev - 
    Holds an abbreviated version of a &lt;title&gt;. It is used for the text
    in running headers or footers, when the proper title is too long to be used conveniently.
    It must be defined before the &lt;title&gt; tag.
</li>
<li>
<a href="#creating_toc" title="1.3.&nbsp;Creating a Table of Content (TOC)">tocimage</a> - 
    A reference to an image file (.png, jpg, etc.) to be used in the TOC
</li>
<li>ulink - 
    A link that addresses its target by means of a URL (Uniform Resource Locator)
</li>
<li>year - 
    The year of publication of a document; used as child of &lt;copyright&gt; tag.
</li>
</ul></div>
</div>
</div></body>
</html>

