<html>
<!-- RCS-ID: $Id: translating_program.htm,v 1.1 2005/10/14 14:51:37 cecilios Exp $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Guidelines to translate the LenMus program<</title>
<link rel="stylesheet" media="all" href="singledoc.css" type="text/css" />
</head>
<body>

<h1>Guidelines to translate the program (draft)</h1>

<p>LenMus software is written with the wxWidgets application framework and follows
wxWidgets approach to
internationalization.
This approach closely follows the GNU gettext package.</p>

<p>LenMus uses the
message catalogs which are binary compatible with gettext catalogs and this
allows to use all of the programs in this package to work with them. But note
that no additional libraries are needed during run-time, however, so you
have only the message catalogs to distribute and nothing else.</p>

<p>There are two kinds of message catalogs: source catalogs which are text files
with extension .po and binary catalogs which are created from the source ones
with <i>msgfmt</i> program (part of gettext package) and have the extension .mo.
Only the binary files are needed during program execution.

<p>Translating LenMus to other language involves several steps:</p>

<ol>

<li>Download the .po file. This file contains all the strings that have to
be translated.
</li>

<li>Edit the .po file and provide a translation for each string.
</li>

<li>Compile the .po file into .mo file to be used by the program.
</li>

<li>Submit the .mo file for inclusion in the package.
</li>
</ol>

<p><span class="warning">Note for developers</span>
In order that new language name appears translated to the local name instead
that in English it must be included in Language.cpp, method GetLanguage().</p>

<!-- MacOs X
<p>
To run under MacOS X it is necessary to make one modification to the Info.plist
file which describes the contents of the "application bundle". This
file (an XML text file in UTF-8 format) have a
CFBundleDevelopmentRegion entry describing the default language
- English - and normally MacOS X will query the bundle for the
presence of certain resource directories to find out which languages
are supported .

The application needs to be told explicitly which
languages are supported. This is done by adding a CFBundleLocalizations
entry to Info.plist. This can look like this:<p>
<pre>
	&lt;key&gt;CFBundleDevelopmentRegion&lt;/key&gt;
	&lt;string&gt;English&lt;/string&gt;
	&lt;key&gt;CFBundleLocalizations&lt;/key&gt;
	&lt;array&gt;
		&lt;string&gt;en&lt;/string&gt;
		&lt;string&gt;de&lt;/string&gt;
		&lt;string&gt;fr&lt;/string&gt;
	&lt;/array&gt;
</pre>
-->

See the GNU gettext documentation linked from <tt>docs/html/index.htm</tt> in
your wxWidgets distribution.<p>

<hr>

A standard .po file begins with a header like this:<p>
<pre>
# SOME DESCRIPTIVE TITLE.
# Copyright (C) YEAR Free Software Foundation, Inc.
# FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 1999-02-19 16:03+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n"
"Language-Team: LANGUAGE &lt;LL@li.org&gt;\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=CHARSET\n"
"Content-Transfer-Encoding: ENCODING\n"
</pre>
Note this particular line:<p>
<pre>
"Content-Type: text/plain; charset=CHARSET\n"
</pre>
It specifies the charset used by the catalog. All strings in the catalog
are encoded using this charset.<p>
You have to fill in proper charset information. Your .po file may look like this
after doing so: <p>
<pre>
# SOME DESCRIPTIVE TITLE.
# Copyright (C) YEAR Free Software Foundation, Inc.
# FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 1999-02-19 16:03+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n"
"Language-Team: LANGUAGE &lt;LL@li.org&gt;\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=iso8859-2\n"
"Content-Transfer-Encoding: 8bit\n"
</pre>
(Make sure that the header is <b>not</b> marked as <i>fuzzy</i>.)</p>


<p>
LenMus is able to use this catalog under any supported platform
(although iso8859-2 is a Unix encoding and is normally not understood by
Windows).</p>

<hr>

<ul>
<li>If you use the program <tt>xgettext</tt> to extract the strings from
the source code, specify the option <tt>--from-code=&lt;source code charset&gt;</tt>.
</li>

<li>Specify the source code language and charset as arguments to
<a href="wx_wxlocale.html#wxlocaleaddcatalog">wxLocale::AddCatalog</a>. For example:
<pre>
locale.AddCatalog(_T("myapp"),
                  wxLANGUAGE_GERMAN, _T("iso-8859-1"));
</pre>
</li>

</ul>


</body>
</html>
