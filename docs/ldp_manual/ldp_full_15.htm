<html>
<!-- $Id: 2006/06/21 17:44:29 $ -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>LenMus LDP Music representation language. Reference manual</title>
<link rel="stylesheet" media="all" href="singledoc.css" type="text/css" />
</head>
<body>

<h1>LDP Music representation language. Reference manual</h1>

<p>Version 1.5. Revision: Jun, 2006</p>

<div class="important">
<p><b>Please be aware that this manual is not yet finished.</b>
I have to write more and currently it only documents the minimum to start with the LDP language.</p>
</div>

<p>&nbsp;</p>


<h2><a name="TOC">Table of Contents</a></h2>

<b>Introduction</b>
<blockquote>
<a href="#The_LDP_language">The LDP language</a><br />
<a href="#a_very_simple_score">A very simple introductory score</a><br />
<a href="#grammar_comments">Comments</a><br />
<a href="#grammar_language">Language</a><br />
<a href="#grammar_notation">Notation used</a><br />
</blockquote>


<b>Detailed description</b>
<blockquote>
<a href="#description_score">The Score element</a><br />
<a href="#description_Instrument">The Instrument element</a><br />
<a href="#description_MusicData">The MusicData element</a><br />
<a href="#description_Clef">The Clef element</a><br />
<a href="#description_Key">The Key element</a><br />
<a href="#description_TimeSign">The Time element</a><br />
<a href="#description_Barline">The Barline element</a><br />
<a href="#description_Notes_Rests">Notes, rests and chords</a>
    <ul>
    <li><a href="#Pitch">Pitch</a></li>
    <li><a href="#description_Duration">Duration</a></li>
    </ul>
<a href="#description_Beamed_group">Beamed groups</a><br />
<a href="#description_Tuplet">Tuplets</a><br />
<a href="#description_Tie">Ties</a><br />
<a href="#description_staff_number">Selecting the staff</a>
</blockquote>

<b>Elements to control format</b>
<blockquote>
<a href="#newSystem">New system</a><br />
<a href="#stem">Stem</a><br />
</blockquote>



<h1>Part I. Introduction</h1>



<h2><a name="The_LDP_language">The LDP language</a></h2>
<a href="#TOC">TOC</a>
<p>The LenMus LDP notation language is a general purpose formal language for representing
music scores in a platform independent, plain-text and human-readable way.
This language is named LDP because I started this project in Spanish and I named this
language after the
Spanish acronym for 'Lenguaje de Descripción de Partituras, that is 'Language
to Describe Scores'.</p>

<!--
<p>Why to define a new language instead of using a existing
one such as MIDI,  MusicXML, abc, Guido or others?</p>

<ul>
 <li>MIDI: oriented
     to playing back scores. It does not encode information to draw and render
     scores.</li>
 <li>MusicXML: MusicXML started as an interchange format. It might be adequate but it lacks
     of facilities for accurate positioning of the different musical objects (note: in
     version 1.1 MusicXML started to introduce better positioning information, but this
     was after the decision to start with LDP was taken).
     It is also too verbose to
     write scores by hand, and to be used as internal intermediate representation.</li>
 <li>Abc: It is an 'old' language designed when nearly everything was batch processed.
    Although it has a
    great base of users it didn't suit LenMus project needs.</li>
 <li>Guido: I didn't know about GUIDO when I started this project. Probably it would have been
    a good choice but I had a lot of LDP code written when I heard about GUIDO.</li>
 <li>Again, I did not consider any other existing language such as LilyPond or Mup,
    because I didn't know about them when I started this project.</li>
</ul>

<p>At the time the LenMus project started it was finally decide to design a new language because:
</p>

<ul>
 <li>I did not find any accepted standard. In fact the only "standard" available was be MusicXML.</li>
 <li>The need to code music scores by hand: In MusicXML this task is very tedious and
     takes a lot of time; at that time MusicXML was not a good option
     for specifying detailed positioning information.</li>

 <li>More important: designing my own language forced me to study more in depth
    the problems
    associated to the representation of music in all its aspects. This was
    more in line with the objectives of the project.</li>

 <li>Finally, using my own language would give me more freedom in case MusicXML or
    any other choosen language could
    not fully satisfy the LenMus project needs.</li>
</ul>

-->

<p>LDP is a pragmatic
approach and its development has the direct benefit of forcing me to study in
depth the problems of representing music in textual form. Although the internal
language for LenMus project scores is LDP, the LenMus program will include
facilities to import and export music scores to other formats, such as MusicXML.</p>


<h2><a name="a_very_simple_score">A very simple introductory score</a></h2>
<a href="#TOC">TOC</a>

<p>Let's see how a very simple score is encoded. The score will be just one measure, in G clef,
time signature will be C major (no accidentals) and time signature will be 4 by 4. The measure
will have a whole c note. Here is how it would look:</p>

<p>

<table cellpadding=0 cellspacing=0>
 <tr>
  <td width=253 height=0></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=145 height=80
  src="image001.jpg"></td>
 </tr>
</table>

<br />
In LDP this score is described as follows:</p>

<pre class="example">
  (score
     (vers 1.5)
     (instrument
        (musicData
            (clef G)
            (key C)
            (time 4 4)
            (n c4 w)
            (barline)
        )
     )
  )

</pre>

<p>&nbsp;</p>

<p>Let's analyse this code. First note that in LDP all the information is structured
as <i>elements</i>. An <i>element</i> is a list of keywords and data values enclosed in parenthesis.
An element always starts with a keyword (i.e. vers) and it is followed by data items.
These data items can be just
simple data (single word values, such as '1.5' or 'G') or complex data: other elements --
those of you with an
information science background will note that this is a LISP like syntax  --</p>
<p>In the example, we can note that all the score is a list starting with the keyword 'score'.
The first data item of this element is also a list, '(vers 1.5)': it starts with the
keyword 'Vers' and has only a simple  data item, the number 1.5.</p>

<p>Blank space, indentation, tabs and line breaks have no meaning: they are just a visual help
for humans to improve readability, and you can use them at your desire or not use them
at all. For example, the previous score can be written in a single line as:</p>

<pre class="example">
(score (vers 1.5)(instrument (musicData ( ... ))
</pre>

<p>Or in two lines, for example as:</p>

<pre class="example">
(score (vers 1.5)(instrument
(musicData ( ... ))
</pre>

<p>The only rule is that you can not break keywords or simple data values. So you can not
write, for example,</p>
<pre class="example">
( s c o r e ( ...))
</pre>

<p>LDP language is case sensitive, so for example, &quot;score&quot;,
&quot;Score&quot; and &quot;SCORE&quot; will not be taken as the same token.</p>


<p>To reduce the work for typing a score or to improve legibility in some cases
 an <i>abbreviated</i> syntax is allowed.
This abbreviation consists on either:</p>

<ul>

<li>For elements with just one parameter, the syntax "(name param)"
can be also written as "name:param". For example,
the following element
    <pre class="example">
    (title right "Franz Schubert" (x 40mm)(y 30mm))
    </pre>
can also be written as:
    <pre class="example">
    (title right "Franz Schubert" x:40mm y:30mm)
    </pre>

</li>

<li>For elements with more than one parameter or often used, in certain
cases it is allowed
an abbreviated syntax, consisting, usually, in suppressing the parenthesis and
reducing the element to a string.

For example, in case of element <b>g</b>, beamed group,
writting <q class="example">(g +)</q> is equivalent to writing just
<q class="example">g+</q>, or
in case of element <b>t</b>, tuplet,
writting <q class="example">(t + 5 6)</q> is equivalent to writing just
<q class="example">t5/6</q>.
</li>

</ul>


<h2><a name="grammar_comments">Comments</a></h2>
<a href="#TOC">TOC</a>
<p>To improve human legibility and understanding it is allowed to include comments.
Two consecutive slash characters (//) will be interpreted as the start of a comment and
all text until the end of the line will be ignored. For example:</p>
<pre class="example">
// This is a score with comments
(score
    (vers 1.5)              // version 1.5 of LDP is used
    (instrument             // Start of music for the first voice
        (musicData          // start this voice
            (clef G)        // Clef: G on 2nd line
            (key C)         // Key signature: C major
            (time 4 4)      // Time signature: 4 4
            (n c4 w)        // Note. Pitch: C4, duration: w (whole note)
            (barline)       // a simple barline
        )
    )
)
</pre>

<h2><a name="grammar_language">Language</a></h2>
<a href="#TOC">TOC</a>
<p>LDP supports to use a customized set of tags for each language, so if, for example,
you would prefer to
encode the scores using tags in Spanish instead of tags in English, you would write:</p>
<pre class="example">
  (score                            //the score and language tags are the only non-translatable
     (language es ISO-8859-1)       //specifies to use the Spanish set of tags
     (vers 1.5)
     (instrumento
        (voz
            (clave Sol)         //note the keyword 'clave' instead of 'clef'
            (tonalidad Do)
            (metrica 4 4)
            (n c4 r)            // duration: r (redonda = whole note)
            (barra)
        )
     )
  )

</pre>



<h2><a name="grammar_notation">Notation used</a></h2>
<a href="#TOC">TOC</a>

<p>To describe the language, Backus Naur like form (BNF) syntax rules will be used.
The meta-symbols used are the following:</p>

<dl compact>

<dt><b>:=</b></dt><dd>Meaning "is defined as"<br /><br /></dd>

<dt><b>|</b></dt><dd> Meaning "or", that is, different alternatives.<br /><br /></dd>

<dt><b>{&nbsp;}</b></dt><dd>To indicate a list of alternatives. For example:<br />
<pre class="example">
{ alpha | beta | gamma }
</pre>
means the value can be either alpha, beta o gamma, but only one of
them.<br /><br /></dd>

<dt><span class="t">bold_face</span><dt><dd>A symbol in bold face means a terminal symbol, that is, a string
that must be written exactly
as it is stated. Apart of bold face, if this manual is
printed or displayed using colours, blue colour will be used for terminal symbols.<br /><br /></dd>

<dt><span class="nt">italics</span><dt><dd>A symbol in <i>italics</i> means a non-terminal
symbol, that is, a category name (syntax rules names). If colour is possible they will appear in
green colour.<br /><br /></dd>

<dt><b>[&nbsp;]</b></dt><dd>Optional items will be enclosed in squared brackets. For example:<br />
<blockquote class="example">
<span class="nt">Clef</span> :=
  <span class="t">(clef</span> <span class="nt">clef_name</span>
   [<span class="nt">visible</span>]
   <span class="t">)</span>
</blockquote>
means that an element of type <i>clef</i> must start with the keyword <b>clef</b> and must
be followed by a clef name; optionally, after the clef name it could come an element
of type <i>visible</i>.<br /><br /></dd>

<dt><b>+</b></dt><dd>A plus sign after a non-terminal symbol means one or more repetitions.
For example:<br />
<blockquote class="example">
<span class="nt">number</span> := <span class="nt">digit</span>+
</blockquote>
means that a <i>number</i> is a sequence of <i>digits</i>; at least one <i>digit</i> is
necessary.<br /><br /></dd>

<dt><b>*</b></dt><dd>An asterisk after a non-terminal symbol means zero or
more repetitions.<br /><br /></dd>


</dl>



<h1>Part II. Detailed description</h1>



<h2><a name="description_score">The Score element</a></h2>
<a href="#TOC">TOC</a>

<p>A Score is, basically, a collection of Instruments and some optional information such as the title or
the author.</p>

<p>
<a name="rule_score">&nbsp;</a>
<span class="nt">score</span> :=
    <span class="t">(score</span>
    <span class="nt">Version</span>
    [<span class="nt">Language</span>]
    [<span class="nt">Titles</span>]
    <span class="nt">NumInstruments</span>
    <span class="nt">Instrument</span>*
    <span class="t">)</span>
</p>

<p>The <em>Version</em> element is just a number to indicate the LDP language version used
to encode the score. For example:</p>
<pre class="example">
(vers 1.5)      the score is encoded using LDP version 1.4
</pre>

<p>In case you would like to use a different set of tags than the English set or to use
non Western characters (ISO-8859-1) the <em>Language</em> element allows to specify these
characteristics.</p>

<p>
<a name="rule_language">&nbsp;</a>
<span class="nt">Language</span> :=
    <span class="t">(language</span>
    <span class="nt">LanguageCode</span>
    <span class="nt">Charset</span>
    <span class="t">)</span>
<br />

&nbsp;<span class="nt">Charser</span> := Any ISO charset code name, i.e. &quot;ISO-8859-1&quot;
<br />

&nbsp;<span class="nt">LanguageCode</span> := Any language code, i.e. &quot;es&quot;
</p>

<p>Examples:</p>
<pre class="example">
(language es iso-8859-1)      use the Spanish set of tags
(language en iso-8859-1)      use the English set of tags
</pre>



<h2><a name="description_Instrument">The Instrument element</a></h2>
<a href="#TOC">TOC</a>

<p>An Instrument is a collection of elements, describing the music for that instrument.</p>

<p>
<a name="rule_instrument">&nbsp;</a>
<span class="nt">Instrument</span> :=
    (<span class="t">instrument</span>
    [<span class="nt">InstrName</span>]
    [<span class="nt">MIDI_Info</span>]
    [<span class="nt">Staves</span>]
    {<span class="nt">MusicData</span> |
     <span class="nt">Split</span> }
    <span class="t">)</span>
<br />
&nbsp;<span class="nt">Staves</span> :=
    (<span class="t">staves</span>
     <span class="nt">num</span>)
</p>

<p>Instruments can have a name
</p>

<p>The 'music' is described by just MusicData element or a Split element. What are they?
Any plain-text music representation has to describe music in sequence. But a music
score is not just a sequence of musical objects; the vertical organization of simultaneous
voices is equally important. So, when trying to describe music as a sequence of
elements we are confronted to a dilemma: To describe a polyphonic composition, should
each voice be described in sequence? or should it be described as a sequence of chords?
Should the horizontal
organization of musical parts be primary, or should the vertical organization of musical
measures? The answer is different for every music application.

But the representation language have to be flexible to allow for representing music both
ways, and be able to switch between them easily.</p>

<div class="comparison">
<p><b>Guido</b> and <b>LilyPond</b> offer two orthogonal constructors to allow for describing music
either horizontally, as a sequence of in time consecutive musical objects,
or vertically (in parallel), as a series of simultaneous - in time - musical objects.
The most simple form of parallelism
is a chord where the voices consist of single notes.</p>

<p>Sequence:<br />
- GUIDO: '[ ... ]'<br />
- LilyPond: '{ ... }'</p>

<p>Parallelism:<br />
- GUIDO: '{ ... }'<br />
- LilyPond: '&lt;&lt; ... &gt;&gt;'</p>

<p>Both constructors can be mixed and recursively used, giving a lot of flexibility to
the user to describe music in whatever way it is more suitable.</p>


<p><b>MusicXML</b> is less flexible. It offers both approaches (score-partwise DTD or
score_timewise DTD) but only for the whole score. The two approaches can not be
combined or applied recursively. This creates some problems and, from a user point of
view, is quite inflexible. To give some more flexibility and provide a solution to
allow certain parallelism in sequential descriptions,
two by-passes are provided:</p>

<ul>
    <li>An explicit chord constructor to describe chords.</li>
    <li>A non-declarative but procedural approach to allow
        parallelism inside a sequential description: tags 'backup' and 'forward' are
        used to reposition an 'internal time counter' and create parallel descriptions.
        This parallelism is only allowed inside a measure.</li>
</ul>
</div>


<!-- ==================================================================================================== -->


<h2><a name="description_MusicData">The MusicData element</a></h2>
<a href="#TOC">TOC</a>

<p>The MusicData element is just a collection of different objects, mainly Notes
and Rests, but also other elements, such as Clefs or KeySignatures, are possible.</p>

<p>
<span class="nt">MusicData</span> :=
    { <span class="nt">Note</span> |
      <span class="nt">Rest</span> |
      <span class="nt">Chord</span> |
      <span class="nt">Clef</span> |
      <span class="nt">KeySignature</span> |
      <span class="nt">TimeSignature</span> |
      <span class="nt">Barline</span> |
      <span class="nt">Other</span> }*
</p>


<p>Examples:</p>

<pre class="example">
Single note:
    (musicData (n c4 q))

C major scale:
    (musicData (n c4 q)(n d4 q)(n e4 q)(n f4 q)(n g4 q)(n a4 q)(n b4 q)(n c5 q))

Short fragment with a measure:
    (musicData (clef treble)(key C)(time 2 4)(n c4 q)(n e4 q)(n g4 q)(n c5 q)(barline))

</pre>

<!-- ==================================================================================================== -->

<h3><a name="description_Clef">The Clef element</a></h3>
<a href="#TOC">TOC</a>

<p>Setting or changing the clef is done with the clef element:</p>
<p>
<span class="nt">Clef</span> :=
    <span class="t">(clef</span>
      <span class="nt">ClefName</span>
      [ <span class="nt">Tessitura</span> ]
      [ <span class="nt">Visible</span> ]
    <span class="t">)</span>

<br />
<span class="nt">Tessitura</span> :=
    { <span class="t">+8va</span> |
      <span class="t">-8va</span> |
      <span class="t">+15ma</span> |
      <span class="t">-15ma</span> }
</p>

<p>The tessitura implied by a clef can be modified by including a tessitura option,
that will draw a 8va or 15ma symbol above (+8va, +15va) or below (-8va, -15ma) the clef,
and force the corresponding
octave shift. The tessitura option is only usable with G and F clefs.
<span style="color:#ff0000;">Tessitura option is not yet supported.</span></p>


<p>Examples:</p>
<pre class="example">
(clef G)            // G clef
(clef bass)         // F clef
(clef treble +8va)    // G clef with 8va symbol above
</pre>


<p>Valid clef names are described in the following table:</p>
<center>
<table class="grid">
<tr>
<td  class="grid"><b>ClefName</b></td>
<td  class="grid"><b>Meaning</b></td>
</tr>
<tr>
<td  class="grid">treble, G, G2, violin</td>
<td  class="grid">G clef on 2nd line</td>
</tr>
<tr>
<td  class="grid">bass, F, F4</td>
<td  class="grid">F clef on 4th line</td>
</tr>
<tr>
<td  class="grid">baritone, F3</td>
<td  class="grid">F clef on 3rd line</td>
</tr>
<tr>
<td  class="grid">soprano, C1</td>
<td  class="grid">C clef on 1st line</td>
</tr>
<tr>
<td  class="grid">mezzosoprano, C2</td>
<td  class="grid">C clef on 2nd line</td>
</tr>
<tr>
<td  class="grid">alto, C3</td>
<td  class="grid">C clef on 3rd line</td>
</tr>
<tr>
<td  class="grid">tenor, C4</td>
<td  class="grid">C clef on 4th line</td>
</tr>
<tr>
<td  class="grid">percussion</td>
<td  class="grid">Percussion clef</td>
<tr>
<!--
<td  class="grid">baritoneC, C5</td>
<td  class="grid">C clef on fifth line</td>
</tr>
<tr>
<td  class="grid">subbass, F5</td>
<td  class="grid">F clef on fifth line</td>
</tr>
<td  class="grid">french, G1</td>
<td  class="grid">G clef on first line</td>
</tr>
-->
</tr>
</table>
</center>


<!-- ==================================================================================================== -->

<h3><a name="description_Key">The Key element</a></h3>
<a href="#TOC">TOC</a>

<p>Setting or changing the key signature is done with the key element:</p>
<p>
<span class="nt">Key</span> :=
    <span class="t">(key</span>
     <span class="nt">KeyName</span>
    [<span class="nt">Visible</span>]
    <span class="t">)</span>

</p>

<p>Examples:</p>
<pre class="example">
(key F+)           // F sharp major key
(key f+)           // F sharp minor key
(key d-)           // D flat minor key
(key C)            // C major key
</pre>


<p>Valid values for tag KeyName are described in the following table:</p>
<p>
<center>
<table class="grid">
    <tr><td class="grid">KeyName</td><td class="grid">Key signature</td><td class="grid">KeyName</td><td class="grid">Key signature</td></tr>
    <tr><td class="grid">C</td><td class="grid">C major</td>         <td class="grid">a</td><td class="grid">A minor</td></tr>
    <tr><td class="grid">G</td><td class="grid">G major</td>        <td class="grid">e</td><td class="grid">E minor</td></tr>
    <tr><td class="grid">D</td><td class="grid">D major</td>         <td class="grid">b</td><td class="grid">B minor</td></tr>
    <tr><td class="grid">A</td><td class="grid">A major</td>         <td class="grid">f+</td><td class="grid">F sharp minor</td></tr>
    <tr><td class="grid">E</td><td class="grid">E major</td>         <td class="grid">c+</td><td class="grid">C sharp minor</td></tr>
    <tr><td class="grid">B</td><td class="grid">B major</td>         <td class="grid">g+</td><td class="grid">G sharp minor</td></tr>
    <tr><td class="grid">F+</td><td class="grid">F sharp major</td>  <td class="grid">d+</td><td class="grid">D sharp minor</tr>
    <tr><td class="grid">C+</td><td class="grid">C sharp major</td>  <td class="grid">a+</td><td class="grid">A sharp minor</td></tr>
    <tr><td class="grid">C-</td><td class="grid">C flat major</td>   <td class="grid">a-</td><td class="grid">A flat minor</td></tr>
    <tr><td class="grid">G-</td><td class="grid">G flat major</td>  <td class="grid">e-</td><td class="grid">E flat minor</td></tr>
    <tr><td class="grid">D-</td><td class="grid">D flat major</td>   <td class="grid">b-</td><td class="grid">B flat minor</td></tr>
    <tr><td class="grid">A-</td><td class="grid">A flat major</td>   <td class="grid">f-</td><td class="grid">F flat minor</td></tr>
    <tr><td class="grid">E-</td><td class="grid">E flat major</td>   <td class="grid">c-</td><td class="grid">C flat minor</td></tr>
    <tr><td class="grid">B-</td><td class="grid">B flat major</td>   <td class="grid">g-</td><td class="grid">G flat minor</td></tr>
    <tr><td class="grid">F</td><td class="grid">F major</td>         <td class="grid">d-</td><td class="grid">D flat minor</td></tr>
    </table>
</center>
</p>



<!-- ==================================================================================================== -->

<h3><a name="description_TimeSign">The Time Signature element</a></h3>
<a href="#TOC">TOC</a>

<p>Setting or changing the time signature is done with the TimeSignature element:</p>
<p>
<span class="nt">TimeSignature</span> :=
    <span class="t">(time</span>
    <span class="nt">TopNumber</span>
    <span class="nt">BottomNumber</span>
    [<span class="nt">Visible</span>]
    <span class="t">)</span>
</p>

<p>Examples:</p>
<pre class="example">
(time 2 4)
(time 3 8)
(time 5 8)
</pre>

<!-- ==================================================================================================== -->

<h3><a name="description_Barline">The Barline element</a></h3>
<a href="#TOC">TOC</a>

<p>Element 'barline' is used to specify a barline at the end of a measure.
You can specify a barline to be 'invisible' (that is, it will not be rendered).
If the type of barline is not specified it is assumed to be
a normal barline (simple line).</p>

<p>
<a name="rule_barline">&nbsp;</a>
<span class="nt">Barline</span> :=
    (<span class="t">barline</span>
    [<span class="nt">Barline_type</span>]
    [<span class="nt">Visible</span>]
    <span class="t">)</span>

<br />
&nbsp;<span class="nt">Barline_type</span> :=
    { <span class="t"><u>simple</u></span> |
      <span class="t">double</span> |
      <span class="t">end</span> |
      <span class="t">start</span> |
      <span class="t">startRepetition</span> |
      <span class="t">endRepetition</span> |
      <span class="t">doubleRepetition</span> }
</p>

<!--
<p>The <em>Barline_type</em> can be either a tag or a graphical sign (as in abc language):</p>
<p>
<span class="nt">Barline_type</span> :=
    { <span class="t">|</span> |
      <span class="t">||</span> |
      <span class="t">|]</span> |
      <span class="t">[|</span> |
      <span class="t">:|</span> |
      <span class="t">|:</span> |
      <span class="t">::</span> }
</p>
-->

<p>Example:</p>
<pre class="example">
(n c4 e)(n e4 e)(barline end)
</pre>


<!-- ==================================================================================================== -->

<h2><a name="description_Notes_Rests">Notes and rests</a></h2>
<a href="#TOC">TOC</a>

<p>Rests can be considered as notes with no pitch, so in LDP notes and rests are instances
of a more general concept: <i>noterests</i>. A noterest is either a note or a rest.</p>

<p>The minimum information required to represent notes is its pitch and its duration.
For rests only its duration is needed.</p>

<p>
<span class="nt">Note</span> :=
  <span class="t">(n</span>
  <span class="nt">Pitch</span>
  <span class="nt">Duration</span>
  [<span class="nt">Other</span>]*
  <span class="t">)</span>

<br />
<span class="nt">Rest</span> :=
  <span class="t">(r</span>
  <span class="nt">Duration</span>
  [<span class="nt">Other</span>]*
  <span class="t">)</span>
</p>


<h4><a href="pitch">Pitch</a></h4>


<p>The pitch is represented by combining the note name, the octave and the accidentals.</p>
<p>The <i>note name</i> is a letter that represents the diatonic step:
<span class="t">c d e f g a b</span></p>
<!--
There are different systems of notenames:
c d e f g a h/b (diatonic) 1.
c cis d dis e f fis g gis a ais h/b (chromatic) 2.
do re me fa sol la si/ti (solfege)
-->
<p>The <i>octave</i> is an integer number indicating the octave of the note, where octave 4
is the central one (a4 = 440Hz). All octaves start with note name c and ends in note name b, so note
c4 is the c note just below the a4 note. Octaves range is 0 to 9.</p>

<p>Accidentals are represented by combinations of the signs plus (+), minus (-),
equal (=) and the letter x (x). They represent, respectively, sharps, flats, naturals
and the double sharp symbol. So, for example,
++ represents two sharps, x a double sharp, and =- represents  a natural flat.</p>

<p>With all this, the pitch is just the combination of the previous signs. Examples:</p>

<pre class="example">
+c4     a sharp C4 note (C of octave 4, the central C)

--b3    a double flat B3 note (B of octave 3, the B immediately below C4)
</pre>

<!--
<p>La alteración representa el número de semitonos (ej. -1 para bemol, +1 para
sostenido). Se pueden usar valores decimales (ej. +0,5 = un cuarto de tono
arriba) para microtonos.</p>
-->
<div class="note">
<p>
<b>Important: </b>
Accidentals are relative to the context. That is, you have to write only those
accidentals that are not implied by
the key signature or that are not implied by a previous accidental in the same measure.
</p>
</div>

<p>
Then, in the following example:</p>
<pre class="example">
(key F)(n b4 q)(barline)
</pre>

<p>the quarter b4 note will be a flat b4, as it is in F major key.</p>

<!--
<p>En aquellos
caso en que pudiera interesar especificar la altura absoluta, esto es, la que
debe tener con independencia del contexto, hay que indicarlo expresamente
mediante la marca ABS colocada inmediatamente tras el dato de altura.</p>
-->

<!--
<p>Si se quisiera
codificar toda la partitura con alturas absolutas (tal como se hace en
MusicXML), evitando asi tener que incluir el parámtro ABS en
cada nota, esta circunstancia hay que especificarla como un parámetro global
del elemento &lt;score&gt;</p>
-->

<!--
<p>It is also possible to specify pitch as a number, and this will be interpreted as the
absolute MIDI pitch. For example, 43 will be the central c note (c4).
This way of encoding pitch is discouraged as some musical information is lost.
This facility has been included to facilitate importing MIDI files and scores written by other
programs. <b>Possibly this feature will removed from the language in future versions</b>.</p>

-->

<h4><a href="duration">Duration</a></h4>

<p>There are two possibilities two designate durations:</p>
<ol>
<li>By numbers and dots: Durations are written as an apostrophe followed by
the reciprocal value of the duration. For example, a quarter note is written as
<q class="example">'4</q>
(since it is a
1/4 note), while a 16th note is entered as <q class="example">'16</q>
(since it is a 1/16 note).
The number is followed by dots in case the
note or rest is dotted. This method using numbers is language independent and
can be always mixed with next method.</li>
<li>By a letter and dots: Each note duration is designated by a character from following table, and is
followed by optional dots. This method is language dependent as a different set of characters
can be defined for each supported language.</p>
</li>
</ol>

<p>Designating notes by numbers is only allowed for notes shorter or equal than
a whole. For notes longer than
a whole you must use the letter notation.</p>


<p>Examples:</p>
<pre class="example">
'8..    //double dotted eighth note
e..     //also double dotted eighth note
'128    //128th note
o       //also 128th note
</pre>


<p>Letters to designate durations are as follows:</p>
<center>
<table class="grid">
    <tr><td class="grid">English US (English UK)</td></tr>
    <tr><td class="grid">l - <b>l</b>ong (longa)</td></tr>
    <tr><td class="grid">d - <b>d</b>ouble whole (breve)</td></tr>
    <tr><td class="grid">w - <b>w</b>hole (semibreve)</td></tr>
    <tr><td class="grid">h - <b>h</b>alf (minim)</td></tr>
    <tr><td class="grid">q - <b>q</b>uarter (crochet)</td></tr>
    <tr><td class="grid">e - <b>e</b>ighth, 8th (quaver)</td></tr>
    <tr><td class="grid">s - <b>s</b>ixteenth, 16th (semiquaver)</td></tr>
    <tr><td class="grid">t - <b>3</b>2th (demisemiquaver)</td></tr>
    <tr><td class="grid">x - <b>6</b>4th (hemidemisemiquaver)</td></tr>
    <tr><td class="grid">o - <b>1</b>28th (semihemidemisemiquaver)</td></tr>
    <tr><td class="grid">f - 2<b>5</b>6th (?)</td></tr>
    </table>
<!--
<table class="grid">
    <tr><td class="grid">English US (English UK)</td><td class="grid">Spanish</td></tr>
    <tr><td class="grid">d - <b>d</b>ouble whole, long (breve)</td><td class="grid">d - cua<b>d</b>rada</td></tr>
    <tr><td class="grid">w - <b>w</b>hole (semibreve)</td><td class="grid">r - <b>r</b>edonda</td></tr>
    <tr><td class="grid">h - <b>h</b>alf (minim)</td><td class="grid">b - <b>b</b>lanca</td></tr>
    <tr><td class="grid">q - <b>q</b>uarter (crochet)</td><td class="grid">n - <b>n</b>egra</td></tr>
    <tr><td class="grid">e - <b>e</b>ighth, 8th (quaver)</td><td class="grid">c - <b>c</b>orchea</td></tr>
    <tr><td class="grid">s - <b>s</b>ixteenth, 16th (semiquaver)</td><td class="grid">s - <b>s</b>emicorchea</td></tr>
    <tr><td class="grid">t - <b>3</b>2th (demisemiquaver)</td><td class="grid">f - <b>f</b>usa</td></tr>
    <tr><td class="grid">x - <b>6</b>4th (hemidemisemiquaver)</td><td class="grid">m - se<b>m</b>ifusa</td></tr>
    <tr><td class="grid">o - <b>1</b>28th (?)</td><td class="grid">g - <b>g</b>arrapatea</td></tr>
    <tr><td class="grid">f - 2<b>5</b>6th (?)</td><td class="grid">p - semigarra<b>p</b>atea</td></tr>
    </table>
-->
</center>
</p>

<p>For example: <q class="example">q.</q> means a dotted quarter note and <q class="example">e..</q> means
a double dotted eighth note</p>


<h4>Abbreviated notation for notes and rests</h4>

<p>The abbreviated syntax is formmed as follows:</p>
<ol>
<li>For pitch, the octave number can be omitted; if so, it is inherited from the preceeding note.</li>
<li>Duration can be omitted; if so, it is inherited from the preceeding note
or rest.</li>
<li>Eliminate parenthesis and spaces preceeding pitch and duration. Separate
any other element using a comma (,).</li>
</ol>

<p>Abbreviated and full notation can be mixed. Octave number and duration can only be
omitted in abbreviated notation, not inside a full notation element.</p>


<p>Example 1:</p>
<pre class="example">
Full notation:
    (n +c4 q)(n e4 q)(r e)(n g4 e)(n =c5 q)

Abbreviated notation:
    n+c4q  ne  re  ng  n=c5q
</pre>

<p>Example 2:</p>
<pre class="example">
Full notation:
    (n +c4 e g+ t+)(n e4 e)(n f4 e g- t-)(r s)(n g4 s)(n =c5 e)
    (n +c4 '8 g+ t+)(n e4 '8)(n f4 '8 g- t-)(r '16)(n g4 '16)(n =c5 '8)

Abbreviated notation:
    n+c4e,g+,t+  ne  nf,g-,t-  rs  ng  n=c5e
    n+c4'8,g+,t+  ne  nf,g-,t-  r'16  ng  n=c5'8

Mixed notation:
    n+c4e,g+,t+  ne (n f4 e g- t-)  rs  ng (n =c5 e)
    n+c4'8,g+,t+  ne (n f4 '8 g- t-)  r'16  ng (n =c5 '8)
    n+c4e,g+,t+  ne (n f4 '8 g- t-)  r'16  ng (n =c5 e)
</pre>


<!-- ==================================================================================================== -->
<h2><a name="description_Chord">Chords</a></h2>
<a href="#TOC">TOC</a>

<p>A chord is just the list of notes that form the chord:</p>
<p>
<span class="nt">Chord</span> :=
    <span class="t">(chord</span>
    { <span class="nt">Note</span> }*
    <span class="t">)</span>
</p>


<p>Example:</p>

<pre class="example">
(chord (n c4 q)(n e4 q)(n g4 q))    // C major chord
(chord nc4q ne ng)                  //abbreviated
</pre>


<!--
<p>Polyphony can be seen as a generalization of chords, where instead of using a list
of notes they are replaced by a list of voices:</p>

<p>(chord &lt;voices&gt;*)</p>

<p>Formally, the 'chord' element requires a list of notes as argument, not a list
of voices. So we are going to introduce a new tag, the Split tag, equivalent to
the chord tag but whose argument is a list of voices:</p>

<p>(split &lt;voices&gt;*)</p>

<p>This improves legibility and, conceptually, both tags, chord and split, are
totally equivalent;</p>


<div class="comparison">
<p><i>split</i> constructor is equivalent to GUIDO segments '{ ... }' and to
LilyPond constructor '&lt;&lt; ... &gt;&gt;'
</p>
</div>

<p>Note that constructors (split &lt;voices&gt;) and (musicData &lt;music&gt;)
are orthogonal, that is,
they describe music either as series of temporally consecutive
musical objects, or as  a number of simultaneous musical objects.
Also note that mixed descriptions (i.e.: voices containing splits) and recursive
descriptions (i.e.: splits containing splits) are allowed.</p>

<p>Examples:</p>

<pre class="example">
Score with just a staff:
    (instrument (musicData &lt;music&gt;))

Score with two voices in single staff
    (instrument (split (musicData &lt;music&gt;)
                       (musicData &lt;music&gt;)))


Score with three voices in single instrument, but across two staves (i.e.: left hand,
right hand, third voice:
    (instrument (staves 2)
                (instrName "Piano")
                (split (musicData &lt;music&gt;)
                       (musicData &lt;music&gt;)
                       (musicData &lt;music&gt;))
    )

Score with two instruments, each one on its staff:
    (instrument (instrName "Flute") (musicData &lt;music&gt;))              //one staff
    (instrument (staves 2)(instrName "Piano") (musicData &lt;music&gt;))    //Two staves


</pre>

-->

<!-- ==================================================================================================== -->



<!--
Single letter elements:

Group 1: Very common, only for notes and rests.

    sp  en
    ===========================================
    n   n   Note
    s   r   Rest

    t   t   Tupla / Tuplet
    l   l   Ligado / Tie
    g   g   Grupo / Beamed group
    a   -   Articulations
    x   -   Ligadura de expresion / Slur
    c   -   Caesura

Group 2: Very common, for notes, rests and clefs

    sp  en
    ===========================================
    p   p   Pentagrama / Staff
    -   -   Anotacion técnica


Group 3: Less used. Long tags can be used
    sp  en
    ===========================================
    -   -   Glissando
    d   -   Dinámica
    r   -   Arpegiato
    np  -   No arpegiado
    -   -   Deslizando
    o   -   Ornamento

    newSystem
    stem

-->

<!-- ==================================================================================================== -->
<h2><a name="description_Tie">Ties</a></h2>
<a href="#TOC">TOC</a>

<p>A character <b>l</b> (lower case letter L) indicates the start of a tie
that will end in the next coming note of the
same voice, staff and pitch than the one on which this notation is included.
No additional parameters are needed.</p>

<p>Example: A quarter C4 note tied to an eighth one:</p>
<pre class="example">
(n c4 q l)(n c4 e)
nc4q,l nc
</pre>


<!--

<h4><a name="caesura_notation">Caesura</a></h4>
<p>A character &quot;C&quot; indicates that the rest or note has a caesura. No additional parameters are
needed.

- Quizá un caracter detrás de la c para indicar el tipo de marca

Example:</p>
<code class="example">
(n c4 n c)
</code>

<p>Is a quarter C4 note with caesura.</p>

-->

<!-- ==================================================================================================== -->
<h2><a name="description_Beamed_group">Beamed groups</a></h2>
<a href="#TOC">TOC</a>

<p>When several consecutive notes have their stems beamed together this is coded by a notation
<b>g</b> (group).  The first parameter is a plus sign (+) or a minus sign (-) to mean, respectively,
that it is the start or the end of a group. After this sign other parameters are possible.
When the only parameters specified are the start/end sign, the
<b>g</b> element admits a abbreviated syntax <b>g+</b> in
the starting note and a notation <b>g-</b> in the ending one.
Example:</p>
<pre class="example">
(n c4 q g+)(n d4 e)(n e4 e g-)
nc4q,g+ nde ne,g-
</pre>

<p>A group of beamed notes, formed by a quarter C4 note, an eighth D4 note and an eighth E4 note.</p>




<!-- ==================================================================================================== -->
<h2><a name="description_Tuplet">Tuplets</a></h2>
<a href="#TOC">TOC</a>

<p>A tuplet is a group of notes whose duration is modified; normally a graphic element
(a tuplet bracket and/or a number) marks this group of notes. The notes in a tuplet are
usually beamed together but this is not always the case.</p>

<p>In LDP, to specify the notes that form a tuplet, a notation <b>t</b> (tuplet) must be included
in the first and the last notes of the tuplet.</p>

<p>
<span class="nt">Tuplet</span> :=
    (<span class="t">t</span>
    {<span class="t">-</span> |
    <span class="t">+</span>
    <span class="nt">ActualNotes</span>
    [<span class="nt">NormalNotes</span>] }
    <span class="t">)</span>
</p>


<p>The first parameter is a plus sign (+) or a minus sign (-) to signal, respectively,
that it is the start or the end of a tuplet. After the plus sign there must be a number
to indicate the tuplet type.</p>

<p>The ActualNotes element describes
    how many notes are played in the time usually occupied
    by the number of NormalNotes.
    If there are different types of notes in the tuplet (e.g. eighth and 16th
    notes) then ActualNotes and NumNotes must always refer to the shortest
    note type (e.g. 16th notes).</p>

<p>Default values for NormalNotes:</p>
<ul>
    <li>triplet: three notes in time allotted for two:   (t + 3) --> (t + 3 2)</li>
    <li>duplet: two notes in time allotted for three:    (t + 2) --> (t + 2 3)</li>
    <li>4-tuplet: four notes in time allotted for 6:     (t + 4) --> (t + 4 6)</li>
    <li>5-tuplet: five notes in time allotted for 6:     (t + 5) --> (t + 5 6)</li>
</ul>

<p>In all other cases NormalNotes must be specified.</p>
<p>Examples:</p>


<pre class="example">
(n c4 e (t + 3)) (n d4 e) (n e4 e (t -))
nc4e,(t + 3) nd ne,(t -)
</pre>

<p>This example is a triplet of eighth notes, that is, the three notes must be played
in the time normally allotted for two eight notes.</p>

<p>Additional parameters would be introduced in future to deal with renderization options.</p>

<p>As tuplets are very frequent, to simplify the writing, the tuplet element allows
abbreviated syntax: </p>
<p>
(t -) can be written as t-<br />
(t + x) can be written as tx, and<br />
(t + n m) can be abbreviated as t+n,m
</p>

<p>So, the previous example can be written as:</p>

<pre class="example">
(n c4 e t3)(n d4 e)(n e4 e t-)
nc4e,t3 nd ne,t-
</pre>


<p>Element <b>t</b> does not implies beaming. Therefore elements <b>t</b> and <b>g</b>
must be combined as needed. Examples:</p>

<pre class="example">
(n c4 e g+) (n d4 s t3) (n c4 s) (n b3 s t- g-)
nc4e,g+  nds,t3  nc  nb3,t-,g-
</pre>

<pre class="example">
(n c4 s g+ t3) (n d4 s) (n e3 s t-) (n f4 s t3) (n g4 s) (n a4 s t- g-)
nc4s,g+,t3  nd  ne3,t-  nf4,t3  ng  na4,t-,g-
</pre>



<!-- ==================================================================================================== -->
<h2><a name="description_staff_number">Selecting the staff</a></h2>
<a href="#TOC">TOC</a>

<p>When an instrument has several staves (e.g. the upper and lower staves in a grand-staff)
it is necessary a mechanism to specify in which staff a note, rest, clef, or other must
be placed. For this purpose, an element <b>p</b> is used.</p>

<p>
<span class="nt">StaffNumber</span> :=
    (<span class="t">p</span>
    <span class="nt">num</span>
    <span class="t">)</span>
</p>

<p>It can be abbreviated by omitting the parenthesis and joining
the <b>p</b> and the number. Example:
</p>
<pre class="example">
'(p 2)' is equivalent to 'p2'
</pre>

<p>Staffs are numbered from top to bottom, starting at staff 1. The staff number
is inherited
by all coming elements until a new p notation is found.</p>


<p>Example: a scale across two staves:</p>
<pre class="example">
(instrument (staves 2)
    (musicData
        (clef G p1)(clef F p2)(key C)
        ng3w,p2 na nb nc4 nd,p2 ne nf ng
        (barline double)
    )
)
</pre>

<p>Clef G is placed in first staff (p1) and clef F in second staff (p2). The
key is common to all staves of one instrument so no staff is specified. First note
(G3) is placed on second staff and consecutive notes inherits this, until
note D4 for which location on first staff is specified (p1). Remaining notes
inherits this.</p>




<!--





<h2><a name="_Toc86206007">Desplazamientos</a></h2>

<p>La representación de dos o más melodías musicales simultáneas
en un mismo pentagrama o en sistemas de más de un pentagrama (por ejemplo, un
sistema para piano) presenta el problema de que una vez definida una de las
melodías es necesario poder retroceder al punto donde debe comenzar la
siguiente. Igualmente, puede ser necesario avanzar sin tener que introducir
silencios. Para ello, el leguaje dispone del elemento <b>desplazamiento</b>:</p>

<p>&lt;desplazamiento&gt; = { &lt;retroceso&gt; |
&lt;avance&gt; }</p>

<p>&lt;retroceso&gt; = (<b>retroceso</b> { <i>partes</i> |
&quot;inicio&quot; } )</p>

<p>&lt;avance&gt; = (<b>avance</b> { <i>partes</i> |
&quot;fin&quot; } )</p>

<p><i>partes</i> = { <i>expresión</i> | <i>num</i> }</p>

<p>&nbsp;</p>

<p>donde <i>partes</i> puede ser:</p>

<ul style='margin-top:0cm' type=square>
 <li>una expresión algebráica, formada por sumas de notas, que
     indica lo que se avanza o retrocede. Por ejemplo,  &quot;3n+s&quot;
     indica que se avance/retroceda tres notas negras y una semicorchea. La
     expresión no puede contener espacios en blanco.</li>
 <li>Un número que indica directamente el número de semigarrapateas
     que se avanza o retrocede (1 negra = 64 semigarrapateas). Nótese que un
     número es también una expresión algebráica.</li>
</ul>

<p>Los literales &quot;inicio&quot; y &quot;fin&quot; que
indican, respectivamente, que se retroceda hasta el inicio del compás o que se
avance hasta el final del compás. </p>




-->

<h3><a name="FormattingTags">Elements to control format</a></h3>
<a href="#TOC">TOC</a>


<h4><a name="newSystem">newSystem</a></h4>

<p>Forces to start a new system after current measure.</p>

<p>
<span class="nt">newSystem</span> :=
    <span class="t">(newSystem</span>
    <span class="t">)</span>
</p>


<p>Example:</p>

<pre class="example">
(newSystem)
</pre>



<h4><a name="stem">stem</a></h4>
<a href="#TOC">TOC</a>

<p>Normally stem direction and size is automatically computed by the program,
according to usual engraving rules. Nevertheless, the stem of a note can
be fully specified by using the Stem element. It forces stem direction.</p>

<p>
<span class="nt">Stem</span> :=
    <span class="t">(stem</span>
    { <span class="t">up</span> | <span class="t">down</span> }
    <span class="t">)</span>
</p>


<p>Example:</p>

<pre class="example">
(n e4 q (stem down))
(n e4 q stem:down)
</pre>




<!--

<p><b> lang=ES style='display:none;background:yellow'>Lugar</b>
lang=ES style='display:none;background:yellow'> &lt;<i>placement</i>&gt;.
Indica si se sitúa encima o debajo; la interpretación de lo que es
&quot;encima&quot; o &quot;debajo&quot; depende del elemento a que se refieran<a
href="#_ftn10" name="_ftnref10" title=""> class=MsoFootnoteReference>
class=MsoFootnoteReference> lang=ES style='font-size:11.0pt;font-family:
Arial;display:none'>[10]</a>.</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> style='font-size:10.0pt;font-family:
"Courier New";display:none;background:yellow'> &lt;lugar&gt; =
(&quot;encima&quot; | &quot;debajo&quot; )</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> style='font-size:10.0pt;font-family:
"Courier New";display:none;background:yellow'> </p>

<p style='margin-left:63.8pt;text-indent:-63.8pt'>&nbsp;</p>

-->

<!--

<h2>Directivas</h2>

<p>Las
directivas son indicaciones no ligadas a una nota en particular.</p>

<p>Pueden
ser de varios tipos: textos, reguladores, signos de repetición (segno, coda,
fine,.), rehearsal, dashes, pedal, metronomo, y desplazamientos de octava (signos
de 8ª y demás)</p>

<p>&lt;directiva&gt; = (<b>directiva </b>&lt;lugar&gt;
&lt;tipo&gt; [&lt;offset&gt; %editorial-voice;, staff?, sound?]) </p>

<p>&lt;tipo&gt; = &lt;texto&gt; | &lt;repeticion&gt; |
&lt;regulador&gt; | </p>

<p>      dynamics+ | dashes | bracket | pedal | </p>

<p>      metronome | octave-shift | damp |
damp-all | </p>

<p>      other-direction&gt;</p>



-->

<!--





<h2><a name="_Toc86206011">Directiva de tipo texto </a></h2>

<p>Las directivas de tipo &quot;texto&quot; se utilizan para
escribir texto en la partitura.</p>

<p>&lt;texto&gt; = (<b>texto </b>string &lt;posicion&gt;[&lt;font&gt;
&lt;alineacion&gt;&lt;idioma&gt;])</p>

<p>&lt;posicion&gt; </p>

<p>&lt;font&gt; = (<b>font &lt;</b>nombre&gt;
&lt;size&gt; [&lt;estilo&gt;])</p>

<p>&lt;estilo&gt; = &quot;normal&quot; |
&quot;negrita&quot; | &quot;cursiva&quot; | &quot;negrita,cursiva&quot;</p>

<p>&quot;bold&quot; |
&quot;italic&quot; | &quot;bold,italic&quot;</p>

<p>&lt;size&gt; = <i>num</i></p>

<p>Se asume &quot;Arial&quot; 10pt
normal</p>

<p>&lt;alineacion&gt; =
&quot;izqda&quot; | &quot;centrado&quot; | &quot;dcha&quot;</p>

<p>La alineación se refiere a la forma en que se escibe el
texto y a la posición del punto de anclaje del mismo. Si está alineado a
izquierda, el punto de anclaje es la posición izquierda y el texto se coloca a
la derecha del punto de anclaje, comenzando en él. Si está alineado a derecha,
el punto de anclaje es el final del texto y el texto se distribuye hacia su
izquierda. Si está &quot;centrado&quot; el punto de anclaje se encuentra en el
centro del texto. Si no se especifica se asume alineado a izquierda.</p>

<p>&lt;idioma&gt; = string </p>

<p>Se asume idioma=italiano</p>

<p>&nbsp;</p>

<p>Ejemplo:</p>

<p>      a) en MusicXML</p>

<p>      &lt;direction placement=&quot;above&quot;&gt;</p>

<p>        &lt;direction-type&gt;</p>

<p>          &lt;words
xml:lang=&quot;la&quot; relative-y=&quot;5&quot;
relative-x=&quot;-5&quot;&gt;Angelus</p>

<p>
 dicit:&lt;/words&gt;</p>

<p>        &lt;/direction-type&gt;</p>

<p>      &lt;/direction&gt;</p>

<p>&nbsp;</p>

<p>b) en LDP:</p>

<p>      (texto &quot;Angelus dicit:&quot; (xy xr-5 yr60))</p>

<p>&nbsp;</p>

<p>&nbsp;</p>



-->

<!--





<h2><a name="_Toc86206012"> lang=FR>Reguladores </a> lang=FR
style='font-weight:normal'>&lt;wedges&gt;</h2>

<p> lang=FR>Las directivas de tipo &quot;regulador&quot;
sirven para dibujar reguladores (signo de dinámica). En un regulador hay
que especificar tres parámetros:</p>

<p>            -
el punto de inicio y el tipo de regulador (crescedo o diminuendo)</p>

<p>            -
el punto de final (tipo=stop)</p>

<p>            - la anchura del regulador en la zona ancha &lt;spread&gt;</p>

<p>            La anchura se mide en décimas de línea y debe
especificarse donde corresponda (en tipo=stop para crescendo o en punto de
inicio (tipo=diminuendo) para diminuendos.</p>

<p>&nbsp;</p>

<p>&lt;regulador&gt; = (<b>regulador </b>&lt;tipo&gt;
</p>

<p>    &lt;tipo&gt; = &quot;crescendo&quot;
| &quot;diminuendo&quot; | &quot;stop&quot;</p>

<p>    number %beam-level; #IMPLIED</p>

<p>    &lt;anchura&gt; = num</p>

<p>    &lt;posición&gt; </p>

<p>&nbsp;</p>

<p>Ejemplo:</p>

<p>a) En MusicXML:</p>

<p>&lt;direction
placement=&quot;above&quot;&gt; </p>

<p>            &lt;direction-type&gt; </p>

<p>                  &lt;wedge
type=&quot;crescendo&quot; spread=&quot;0&quot; relative-y=&quot;5&quot;/&gt; </p>

<p>             &lt;/direction-type&gt; </p>

<p>             &lt;offset&gt;-4&lt;/offset&gt;
</p>

<p>&lt;/direction&gt;</p>

<p> </p>

<p>b) En LDP:</p>

<p>      (regulador crescendo encima (xy
yr-5))</p>

<p>      El parámetro offset no se
implementa</p>

<p>&nbsp;</p>

<p>The offset element measures horizontal
direction in terms of divisions, just like the duration element. </p>

<p>If two directions go together, they can
be linked by having multiple direction-type elements within a single direction.
</p>

<p style='margin-left:63.8pt;text-indent:-63.8pt'>
lang=EN-GB>&nbsp;</p>



-->

<!--





<h2><a name="_Toc86206013">Signos de repetición</a></h2>

<p><b>&nbsp;</b></p>

<p>Los signos de repetición asociados a barras de compás se
definen en el elemento &lt;barra&gt;. Los restantes se definen aquí.</p>

<p>&lt;repeticion&gt; = (<b>repeticion</b> &lt;valor&gt;
&lt;posicion&gt; [&lt;font&gt;])</p>

<p>&lt;valor&gt; =</p>

<p>            &quot;DaCapo&quot; |</p>

<p>            &quot;Segno&quot; | (&quot;Segno&quot; <i>num</i>)
|</p>

<p>            &quot;DalSegno&quot; | (&quot;DalSegno&quot; <i>num</i>)
|</p>

<p>            &quot;Coda&quot; | (&quot;Coda&quot;
<i>num</i>) |</p>

<p>            &quot;AlCoda&quot; | (&quot;AlCoda&quot;
<i>num</i>) |</p>

<p>            &quot;Fine&quot; |</p>

<p>            &quot;AlFine&quot; |</p>

<p>            (&quot;repeticion&quot;
<i>num</i>)</p>

<p>&nbsp;</p>

<p>El parámetro <i>num</i>  sirve para distinguirlos cuando hay
varios. El valor &quot;repetición&quot; &lt;rehearsal&gt; se refiere a las
indicaciones de 1ª y 2ª vez</p>



-->



<!--



<p><b> lang=ES style='display:none;background:yellow'>Cabeza</b>
lang=ES style='display:none;background:yellow'> &lt;<i>notehead</i>&gt; Para
forzar un glifo distinto del de por defecto:</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=ES style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'>(<b>cabeza</b>
{&quot;barra&quot;, &quot;triangulo&quot;, &quot;rombo&quot;,
&quot;cuadrado&quot;, &quot;cruz&quot;, &quot;x&quot;, &quot;circulo-x&quot;,
&quot;sin-cabeza&quot; })</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=ES style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'> </p>

<p> lang=ES style='display:none;background:yellow'>&nbsp;</p>

<p>&nbsp;</p>

<p><b> lang=ES style='display:none;background:yellow'>Orientación</b>
lang=ES style='display:none;background:yellow'> &lt;<i>orientation</i>&gt;.
Indica si los ligados van encima o debajo (¿no vale con &lt;lugar&gt;)?</p>

<p><b> lang=ES style='display:none;background:yellow'>Aspecto</b>
lang=ES style='display:none;background:yellow'> &lt;<i>printout</i>&gt;. Son
indicaciones para controlar que no se dibujen cosas. Por ejemplo notas,
puntillos o silencios en casos de solapamientos de voces.</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> lang=EN-GB
style='font-size:10.0pt;font-family:"Courier New";display:none;background:yellow'>&lt;!ENTITY
% printout</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=EN-GB style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'> &quot;print-object
%yes-no;  #IMPLIED</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=EN-GB style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'>  print-dot
%yes-no;  #IMPLIED</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=EN-GB style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'>  print-spacing
%yes-no;  #IMPLIED&quot;&gt;</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=EN-GB style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'>&nbsp;</p>

<p> &nbsp;</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=PT-BR style='font-size:10.0pt;
font-family:"Courier New"'>&nbsp;</p>

<p><b> style='display:none;background:yellow'>Alteraciones-d</b>
style='display:none;background:yellow'> &lt;<i>accidentals</i>&gt;.
lang=ES style='display:none;background:yellow'>Son indicaciones para el dibujo
no para la interpretación. Para interpretación el sonido está fijado por el
tono &lt;<i>pitch</i>&gt;</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=ES style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'>                                                                                              &lt;alteraciones-d&gt;
= ( [&quot;c&quot;] &lt;tipo&gt; [&quot;t&quot;&lt;num&gt;] )</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=ES style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'>&nbsp;</p>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='margin-left:4.0cm;border-collapse:collapse;display:none;border:none'>
 <tr style='display:none'>
  <td width=36 valign=top

  <p>
  style='display:none;background:yellow'>- </p>
  </td>
  <td width=168 valign=top
  border-left:none;
  <p>
  style='display:none;background:yellow'>bemol</p>
  </td>
  <td width=36 valign=top
  border-left:none;
  <p>
  style='display:none;background:yellow'>=</p>
  </td>
  <td width=180 valign=top
  border-left:none;
  <p>
  style='display:none;background:yellow'>becuadro</p>
  </td>
 </tr>
 <tr style='display:none'>
  <td width=36 valign=top
  border-top:none;
  <p>
  style='display:none;background:yellow'>+ </p>
  </td>
  <td width=168 125.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;

  <p>
  style='display:none;background:yellow'>sostenido</p>
  </td>
  <td width=36 27.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;

  <p>
  style='display:none;background:yellow'>=-</p>
  </td>
  <td width=180 134.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;

  <p>
  style='display:none;background:yellow'>becuadro bemol</p>
  </td>
 </tr>
 <tr style='display:none'>
  <td width=36 valign=top
  border-top:none;
  <p>
  style='display:none;background:yellow'> </p>
  </td>
  <td width=168 125.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;

  <p>
  style='display:none;background:yellow'>doble bemol</p>
  </td>
  <td width=36 27.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;

  <p>
  style='display:none;background:yellow'>=+</p>
  </td>
  <td width=180 134.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;

  <p>
  style='display:none;background:yellow'>becuadro sostenido</p>
  </td>
 </tr>
 <tr style='display:none'>
  <td width=36 valign=top
  border-top:none;
  <p>
  style='display:none;background:yellow'>++ </p>
  </td>
  <td width=168 125.85pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;

  <p>
  style='display:none;background:yellow'>dos sostenidos</p>
  </td>
  <td width=36 27.25pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;

  <p>
  style='display:none;background:yellow'>x</p>
  </td>
  <td width=180 134.9pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;

  <p>
  style='display:none;background:yellow'>doble sostenido</p>
  </td>
 </tr>
</table>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=ES style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'>&nbsp;</p>

<p> lang=ES style='display:none;background:yellow'>La
letra &quot;c&quot; que, opcionalmente, precede al tipo de alteración indica
que es una alteración de cortesía (debe dibujarse entre paréntesis).</p>

<p> lang=ES style='display:none;background:yellow'>Al
final puede venir una &quot;t&quot; seguida de un número para indicar que se
dibuje de un tamaño distinto al que por defecto le correspondería. El número
indica el factor de escala (1,0=100%) (ej. En notas de apoyatura).</p>

<p> lang=ES style='display:none;background:yellow'>&nbsp;</p>

<h1><a name="_Toc86206015">Control del formato, espaciados y
opciones &lt;print&gt;</a></h1>

<p>MusicXML lang=ES> no se ha metido
ha estudiar el problema del dibujo, sólo el de cómo representar el sonido o los
signos musicales. Por ello, prácticamente no hay directivas para controlar en
detalle los aspectos de dibujo. El único elemento que hay es el elemento &lt;print&gt;
y apenas tiene un par de atributos. En LDP se va a tratar de que todos los
elementos tengan subelementos que permitan controlar todos las aspectos de
dibujo. </p>

<p>En LDP se va a definir un elemento &lt;opcion&gt;
que sirva para definir los parámetros de dibujo de cualquier elemento. </p>

<p style='margin-top:0cm;margin-right:0cm;margin-bottom:6.0pt;
margin-left:18.0pt'> style='font-size:10.0pt;font-family:"Courier New"'>&lt;opcion&gt;
= (opcion &lt;valor&gt;+)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New";display:none;background:yellow'>&nbsp;</p>

<p>Los valores y atributos de este elemento
dependerán del elemento al que estén asociados. A continuación se
definen los valores disponibles para cada tipo de elemento:</p>

<p style='margin-left:14.2pt;text-indent:-14.2pt'>a)
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; <b>Control de saltos
de página, sección y sistema.</b> Son posibles en cualquier compás:</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(saltoPagina <i>si-no</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(saltoSistema <i>si-no</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(saltoSeccion)</p>

<p style='margin-bottom:6.0pt'>&nbsp;</p>

<p style='margin-bottom:6.0pt'>Si el valor es &quot;no&quot;
obliga a que el compas siga en la misma página/sistema; por ejemplo, para
forzar a que una página no cambie en un compás. <u> lang=EN-GB
style='color:red'>If used in multi-part music, they should be placed in the
same positions within each part, or the results are undefined</u>
lang=EN-GB>.</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-autospace:none'> lang=EN-GB style='font-size:10.0pt;
font-family:"Courier New";display:none;background:yellow'>&nbsp;</p>

<p style='margin-left:14.2pt;text-indent:-14.2pt'>b)
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; <b>Especificación del
tamaño del papel y los márgenes de página</b>. Sólo son posibles cuando cambia
a nueva página  >à en el primer compás
de una partitura o en el compás siguiente a un elemento &lt;SaltoSeccion&gt; y
&lt;SaltoPagina&gt;</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(AltoPagina mm)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(AnchoPagina mm)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>&nbsp;</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(PaginaMargenSup <i>mm</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(PaginaMargenDcho <i>mm</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(PaginaMargenIzqdo <i>mm</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>&nbsp;</p>

<p style='margin-left:14.2pt;text-indent:-14.2pt'>c)
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; <b>Márgenes de
sistema. </b>Cada sistema puede tener unos márgenes distintos. La
especificación de márgenes debe hacerse en el primer compás del sistema</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(sistemaMargenDcho <i>decimas</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(sistemaMargenIzqdo <i>decimas</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>&nbsp;</p>

<p style='margin-left:14.2pt;text-indent:-14.2pt'>d)
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp; <b>Espaciados.</b>
Sólo son posibles cuanto se inicia un nuevo pentagrama de un instrumento
>à En el primer compás o en el compás que
sigue a un elemento &lt;SaltoPagina&gt;, &lt;SaltoSeccion&gt; y &lt;SaltoSistema&gt;</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(EspaciadoLineas { (<b>pantalla</b>  <i>pixels</i>)
| (<b>papel</b> <i>mm</i>) } </p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>&nbsp;</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(EspacioNotas <i>decimas</i>)
lang=PT-BR style='font-size:10.0pt;font-family:Wingdings'>ß
style='font-size:10.0pt;font-family:"Courier New"'> separación mínima entre
notas</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(EspacioAntesMusice <i>decimas</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> lang=PT-BR
style='font-size:10.0pt;font-family:"Courier New"'>(EspacioPentagramas <i>decimas</i>)
 lang=PT-BR style='font-size:10.0pt;font-family:Wingdings'>ß
lang=PT-BR style='font-size:10.0pt;font-family:"Courier New"'> para instr.
multipentagramas (piano)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(EspacioTrasMusice <i>decimas</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(EspacioSistemas <i>decimas</i>)</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>(EspacioNegra <i>decimas</i>)
lang=PT-BR style='font-size:10.0pt;font-family:Wingdings'>ß
style='font-size:10.0pt;font-family:"Courier New"'> factor conversión
tiempo/espacio </p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> style='font-size:
10.0pt;font-family:"Courier New"'>&nbsp;</p>

<p><b>d) Opciones de dibujo. </b>Son posibles en cualquier compas</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> lang=PT-BR
style='font-size:10.0pt;font-family:"Courier New"'>&lt;PosicionTuplas
&quot;defecto&quot; | &quot;encima&quot; | &quot;debajo&quot;&gt;</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> lang=PT-BR
style='font-size:10.0pt;font-family:"Courier New"'>
lang=EN-GB style='font-size:10.0pt;font-family:"Courier New"'>&lt;tuplet-placement
(default | near-note-heads |</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> lang=EN-GB
style='font-size:10.0pt;font-family:"Courier New"'>            near-note-stems
| above | below)</p>

<p style='margin-bottom:6.0pt'>Tuplet-placement
provides a global control  for where tuplet notations should go.</p>

<p align=left style='margin-bottom:0cm;margin-bottom:.0001pt;
text-align:left;text-indent:35.4pt;text-autospace:none'> lang=EN-GB
style='font-size:10.0pt;font-family:"Courier New";display:none;background:yellow'>&nbsp;</p>

<p>&nbsp;</p>

<b> lang=EN-GB style='font-size:12.0pt;font-family:Arial;display:none;
background:yellow'><br clear=all >
</b>

-->

</body>
</html>
